{"patch": "diff --git a/.gitignore b/.gitignore\nindex d6b8b714dc..20a5dca7fa 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -45,3 +45,14 @@ src/H5version.h\n /.classpath\n /CMakeUserPresets.json\n HDF5Examples/CMakeUserPresets.json\n+build/\n+Build/\n+bin/\n+lib/\n+*.o\n+*.out\n+*.obj\n+*.exe\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/src/H5L.c b/src/H5L.c\nindex 091296240b..8576c7865c 100644\n--- a/src/H5L.c\n+++ b/src/H5L.c\n@@ -1257,7 +1257,12 @@ H5Lget_info2(hid_t loc_id, const char *name, H5L_info2_t *linfo /*out*/, hid_t l\n     /* Check arguments */\n     if (!name || !*name)\n         HGOTO_ERROR(H5E_ARGS, H5E_BADVALUE, FAIL, \"no name specified\");\n-\n+    /* Check that loc_id is a valid location type (file or group) */\n+    {\n+        H5I_type_t loc_type = H5I_get_type(loc_id);\n+        if (loc_type != H5I_FILE && loc_type != H5I_GROUP)\n+            HGOTO_ERROR(H5E_ARGS, H5E_BADTYPE, FAIL, \"loc_id is not a file or group\");\n+    }\n     /* Verify access property list and set up collective metadata if appropriate */\n     if (H5CX_set_apl(&lapl_id, H5P_CLS_LACC, loc_id, true) < 0)\n         HGOTO_ERROR(H5E_LINK, H5E_CANTSET, FAIL, \"can't set access property list info\");\ndiff --git a/src/H5VLcallback.c b/src/H5VLcallback.c\nindex 1662776ef9..aaaa5961cc 100644\n--- a/src/H5VLcallback.c\n+++ b/src/H5VLcallback.c\n@@ -5190,23 +5190,30 @@ H5VL_link_get(const H5VL_object_t *vol_obj, const H5VL_loc_params_t *loc_params,\n     bool   vol_wrapper_set = false;   /* Whether the VOL object wrapping context was set up */\n     herr_t ret_value       = SUCCEED; /* Return value */\n \n-    FUNC_ENTER_NOAPI(FAIL)\n+    if (!vol_obj) {\n+        ret_value = FAIL;\n+        goto done;\n+    }\n \n     /* Set wrapper info in API context */\n-    if (H5VL_set_vol_wrapper(vol_obj) < 0)\n-        HGOTO_ERROR(H5E_VOL, H5E_CANTSET, FAIL, \"can't set VOL wrapper info\");\n+    if (H5VL_set_vol_wrapper(vol_obj) < 0) {\n+        ret_value = FAIL;\n+        goto done;\n+    }\n     vol_wrapper_set = true;\n \n     /* Call the corresponding internal VOL routine */\n-    if (H5VL__link_get(vol_obj->data, loc_params, vol_obj->connector->cls, args, dxpl_id, req) < 0)\n-        HGOTO_ERROR(H5E_VOL, H5E_CANTGET, FAIL, \"link get failed\");\n+    if (H5VL__link_get(vol_obj->data, loc_params, vol_obj->connector->cls, args, dxpl_id, req) < 0) {\n+        ret_value = FAIL;\n+        goto done;\n+    }\n \n done:\n     /* Reset object wrapping info in API context */\n     if (vol_wrapper_set && H5VL_reset_vol_wrapper() < 0)\n-        HDONE_ERROR(H5E_VOL, H5E_CANTRESET, FAIL, \"can't reset VOL wrapper info\");\n+        ret_value = FAIL;\n \n-    FUNC_LEAVE_NOAPI(ret_value)\n+    return ret_value;\n } /* end H5VL_link_get() */\n \n /*-------------------------------------------------------------------------\ndiff --git a/src/H5VLint.c b/src/H5VLint.c\nindex a40d64e3ac..65604ad824 100644\n--- a/src/H5VLint.c\n+++ b/src/H5VLint.c\n@@ -2227,8 +2227,8 @@ H5VL_set_vol_wrapper(const H5VL_object_t *vol_obj)\n     FUNC_ENTER_NOAPI(FAIL)\n \n     /* Sanity check */\n-    assert(vol_obj);\n-\n+    if (!vol_obj)\n+        return FAIL;\n     /* Retrieve the VOL object wrap context */\n     if (H5CX_get_vol_wrap_ctx((void **)&vol_wrap_ctx) < 0)\n         HGOTO_ERROR(H5E_VOL, H5E_CANTGET, FAIL, \"can't get VOL object wrap context\");\n", "result": true}