{"patch": "diff --git a/icu4c/source/i18n/persncal.cpp b/icu4c/source/i18n/persncal.cpp\nindex f66ac676a4a..89e6f2888bd 100644\n--- a/icu4c/source/i18n/persncal.cpp\n+++ b/icu4c/source/i18n/persncal.cpp\n@@ -209,11 +209,27 @@ int32_t PersianCalendar::handleGetExtendedYear() {\n  * The DAY_OF_WEEK and DOW_LOCAL fields are already set when this\n  * method is called.\n  */\n-void PersianCalendar::handleComputeFields(int32_t julianDay, UErrorCode &/*status*/) {\n+void PersianCalendar::handleComputeFields(int32_t julianDay, UErrorCode &status) {\n     int32_t year, month, dayOfMonth, dayOfYear;\n-\n+// FIXME: Crash CWE-190: Integer Overflow or Wraparound\n+ \n     int32_t daysSinceEpoch = julianDay - PERSIAN_EPOCH;\n-    year = 1 + ClockMath::floorDivide(33 * daysSinceEpoch + 3, 12053);\n+    \n+    // Check for multiplication overflow in (33 * daysSinceEpoch)\n+    int32_t temp_mult;\n+    if (__builtin_smul_overflow(33, daysSinceEpoch, &temp_mult)) {\n+        status = U_ILLEGAL_ARGUMENT_ERROR;\n+        return;\n+    }\n+    \n+    // Check for addition overflow in (33 * daysSinceEpoch + 3)\n+    int32_t temp_add;\n+    if (__builtin_sadd_overflow(temp_mult, 3, &temp_add)) {\n+        status = U_ILLEGAL_ARGUMENT_ERROR;\n+        return;\n+    }\n+    \n+    year = 1 + ClockMath::floorDivide(temp_add, 12053);\n \n     int32_t farvardin1 = 365 * (year - 1) + ClockMath::floorDivide(8 * year + 21, 33);\n     dayOfYear = (daysSinceEpoch - farvardin1); // 0-based\n", "result": false, "error": ".test_binary_1: /gentest/proj/icu/icu-issue-12504/generated1/generated.cc:30: int main(): Assertion `U_SUCCESS(status)' failed.\n"}