{"patch": "diff --git a/icu4c/source/i18n/regexcmp.cpp b/icu4c/source/i18n/regexcmp.cpp\nindex a4c12804237..c8d5da7abea 100644\n--- a/icu4c/source/i18n/regexcmp.cpp\n+++ b/icu4c/source/i18n/regexcmp.cpp\n@@ -4010,7 +4010,10 @@ UChar32  RegexCompile::peekCharLL() {\n //\n //------------------------------------------------------------------------------\n void RegexCompile::nextChar(RegexPatternChar &c) {\n-\n+    // Use a loop to avoid stack overflow from recursive calls\n+    // when processing alternating \\Q and \\E sequences\n+    for (;;) {\n+        UBool needRecursion = FALSE;\n     fScanIndex = UTEXT_GETNATIVEINDEX(fRXPat->fPattern);\n     c.fChar    = nextCharLL();\n     c.fQuoted  = FALSE;\n@@ -4021,7 +4024,8 @@ void RegexCompile::nextChar(RegexPatternChar &c) {\n             c.fChar == (UChar32)-1) {\n             fQuoteMode = FALSE;  //  Exit quote mode,\n             nextCharLL();        // discard the E\n-            nextChar(c);         // recurse to get the real next char\n+            needRecursion = TRUE; // Continue loop to get the real next char\n+            goto continue_loop;\n         }\n     }\n     else if (fInBackslashQuote) {\n@@ -4140,7 +4144,8 @@ void RegexCompile::nextChar(RegexPatternChar &c) {\n                 //  \"\\Q\"  enter quote mode, which will continue until \"\\E\"\n                 fQuoteMode = TRUE;\n                 nextCharLL();       // discard the 'Q'.\n-                nextChar(c);        // recurse to get the real next char.\n+                needRecursion = TRUE; // Continue loop to get the real next char\n+                goto continue_loop;\n             }\n             else\n             {\n@@ -4152,6 +4157,12 @@ void RegexCompile::nextChar(RegexPatternChar &c) {\n         }\n     }\n \n+continue_loop:\n+        if (!needRecursion) {\n+            break;\n+        }\n+    }\n+\n     // re-enable # to end-of-line comments, in case they were disabled.\n     // They are disabled by the parser upon seeing '(?', but this lasts for\n     //  the fetching of the next character only.\n", "result": true}