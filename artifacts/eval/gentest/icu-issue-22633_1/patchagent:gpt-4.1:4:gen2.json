{"patch": "--- a/icu4c/source/i18n/calendar.cpp\n+++ b/icu4c/source/i18n/calendar.cpp\n@@ -2131,4 +2131,15 @@\n     case UCAL_ERA:\n-        set(field, get(field, status) + amount);\n+        {\n+            int32_t current = get(field, status);\n+            int32_t result;\n+            if ((amount > 0 && current > INT32_MAX - amount)) {\n+                result = INT32_MAX;\n+            } else if ((amount < 0 && current < INT32_MIN - amount)) {\n+                result = INT32_MIN;\n+            } else {\n+                result = current + amount;\n+            }\n+            set(field, result);\n+        }\n         pinField(UCAL_ERA, status);\n         return;\n@@ -2159,7 +2159,18 @@\n       {\n         UBool oldLenient = isLenient();\n         setLenient(true);\n-        set(field, get(field, status) + amount);\n+        {\n+            int32_t current = get(field, status);\n+            int32_t result;\n+            if ((amount > 0 && current > INT32_MAX - amount)) {\n+                result = INT32_MAX;\n+            } else if ((amount < 0 && current < INT32_MIN - amount)) {\n+                result = INT32_MIN;\n+            } else {\n+                result = current + amount;\n+            }\n+            set(field, result);\n+        }\n         pinField(UCAL_DAY_OF_MONTH, status);\n         if(oldLenient==false) {\n           complete(status); /* force recalculate */\n@@ -2149,4 +2149,8 @@\n           if ( uprv_strcmp(calType,\"gregorian\")==0 || uprv_strcmp(calType,\"roc\")==0 || uprv_strcmp(calType,\"coptic\")==0 ) {\n-            amount = -amount;\n+            if (amount == INT32_MIN) {\n+                amount = INT32_MAX;\n+            } else {\n+                amount = -amount;\n+            }\n           }\n         }\n--- a/icu4c/source/i18n/gregoimp.cpp\n+++ b/icu4c/source/i18n/gregoimp.cpp\n@@ -35,8 +35,17 @@\n int32_t ClockMath::floorDivide(int32_t numerator, int32_t denominator,\n                           int32_t* remainder) {\n     auto quotient = floorDivide(numerator, denominator);\n     if (remainder != nullptr) {\n-      *remainder = numerator - (quotient * denominator);\n+        // Use int64_t to avoid signed overflow, clamp if out of int32_t range\n+        int64_t prod = (int64_t)quotient * (int64_t)denominator;\n+        int64_t rem64 = (int64_t)numerator - prod;\n+        if (rem64 > INT32_MAX) {\n+            *remainder = INT32_MAX;\n+        } else if (rem64 < INT32_MIN) {\n+            *remainder = INT32_MIN;\n+        } else {\n+            *remainder = (int32_t)rem64;\n+        }\n     }\n     return quotient;\n }\n", "result": false, "error": ".test_binary_2: /gentest/proj/icu/icu-issue-22633_1/generated2/generated.cc:33: int main(): Assertion `U_FAILURE(status)' failed.\n"}