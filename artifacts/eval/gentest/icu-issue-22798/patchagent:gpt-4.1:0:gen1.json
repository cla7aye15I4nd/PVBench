{"patch": "diff --git a/icu4c/source/common/messagepattern.cpp b/icu4c/source/common/messagepattern.cpp\nindex 9e318295f9a..25880ca4ff2 100644\n--- a/icu4c/source/common/messagepattern.cpp\n+++ b/icu4c/source/common/messagepattern.cpp\n@@ -29,6 +29,9 @@\n #include \"uassert.h\"\n \n U_NAMESPACE_BEGIN\n+// Prevent stack exhaustion via deep recursion in message pattern parsing\n+#define MAX_NESTING_LEVEL 32\n+\n \n // Unicode character/code point constants ---------------------------------- ***\n \n@@ -437,7 +440,12 @@ MessagePattern::parseMessage(int32_t index, int32_t msgStartLength,\n     if(U_FAILURE(errorCode)) {\n         return 0;\n     }\n-    if(nestingLevel>Part::MAX_VALUE) {\n+    if(nestingLevel >= MAX_NESTING_LEVEL) {\n+        setParseError(parseError, index);\n+        errorCode=U_PATTERN_SYNTAX_ERROR;\n+        return 0;\n+    }\n+    if(nestingLevel > Part::MAX_VALUE) {\n         errorCode=U_INDEX_OUTOFBOUNDS_ERROR;\n         return 0;\n     }\n", "result": false, "error": ".test_binary_1: /gentest/proj/icu/icu-issue-22798/generated1/generated.cc:32: int main(): Assertion `status == U_INDEX_OUTOFBOUNDS_ERROR' failed.\n"}