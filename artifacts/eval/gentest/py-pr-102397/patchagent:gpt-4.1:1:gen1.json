{"patch": "diff --git a/Modules/signalmodule.c b/Modules/signalmodule.c\nindex 60a8067fc8c..20a8b9036c8 100644\n--- a/Modules/signalmodule.c\n+++ b/Modules/signalmodule.c\n@@ -182,6 +182,9 @@ static inline int\n compare_handler(PyObject *func, PyObject *dfl_ign_handler)\n {\n     assert(PyLong_CheckExact(dfl_ign_handler));\n+    if (func == NULL) {\n+        return 0;\n+    }\n     if (!PyLong_CheckExact(func)) {\n         return 0;\n     }\n", "result": true}