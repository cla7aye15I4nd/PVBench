{"patch": "diff --git a/Modules/signalmodule.c b/Modules/signalmodule.c\nindex 60a8067fc8c..be1803c7a5b 100644\n--- a/Modules/signalmodule.c\n+++ b/Modules/signalmodule.c\n@@ -1918,6 +1918,11 @@ PyErr_SetInterruptEx(int signum)\n         return -1;\n     }\n \n+    // Add safety check to prevent use-after-free during interpreter shutdown\n+    if (_Py_IsFinalizing()) {\n+        return 0;\n+    }\n+\n     signal_state_t *state = &signal_global_state;\n     PyObject *func = get_handler(signum);\n     if (!compare_handler(func, state->ignore_handler)\n", "result": false, "error": "Traceback (most recent call last):\n  File \"/gentest-cpython/py-pr-102397/generated_1.py\", line 74, in <module>\n    test_signal_during_gc_is_ignored_safely()\n  File \"/gentest-cpython/py-pr-102397/generated_1.py\", line 38, in test_signal_during_gc_is_ignored_safely\n    assert expected in err, (\n           ^^^^^^^^^^^^^^^\nAssertionError: Expected diagnostic in stderr. Missing b'OSError: Signal 2 ignored due to race condition' in stderr: b'Exception ignored in: <function cb at 0x50e00002f290>\\nTraceback (most recent call last):\\n  File \"<string>\", line 10, in cb\\nKeyboardInterrupt: \\nException ignored in: <function cb at 0x50e00002f290>\\nTraceback (most recent call last):\\n  File \"<string>\", line 10, in cb\\nKeyboardInterrupt: \\n'\n"}