{"patch": "diff --git a/Modules/_lsprof.c b/Modules/_lsprof.c\nindex 5cf9eba243b..8732c24fe46 100644\n--- a/Modules/_lsprof.c\n+++ b/Modules/_lsprof.c\n@@ -762,8 +762,10 @@ flush_unmatched(ProfilerObject *pObj)\n             Stop(pObj, pContext, profEntry);\n         else\n             pObj->currentProfilerContext = pContext->previous;\n-        if (pContext)\n-            PyMem_Free(pContext);\n+        if (pContext) {\n+            pContext = NULL;\n+            PyMem_Free(pObj->currentProfilerContext ? pObj->currentProfilerContext->previous : NULL);\n+        }\n     }\n \n }\n", "result": true}