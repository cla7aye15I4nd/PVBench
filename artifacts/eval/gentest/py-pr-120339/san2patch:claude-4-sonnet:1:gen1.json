{"patch": "diff --git a/Objects/listobject.c b/Objects/listobject.c\nindex f59abe2e644..0a5944c56bc 100644\n--- a/Objects/listobject.c\n+++ b/Objects/listobject.c\n@@ -2757,15 +2757,26 @@ list_richcompare(PyObject *v, PyObject *w, int op)\n     if (op == Py_NE) {\n         Py_RETURN_TRUE;\n     }\n-\n+// FIXME: Crash CWE-416: Use After Free\n+    \n+    /* Store local references to prevent use-after-free during comparison */\n+    PyObject *v_item = vl->ob_item[i];\n+    PyObject *w_item = wl->ob_item[i];\n+    Py_INCREF(v_item);\n+    Py_INCREF(w_item);\n+    \n     /* Compare the final item again using the proper operator */\n-    return PyObject_RichCompare(vl->ob_item[i], wl->ob_item[i], op);\n+    PyObject *result = PyObject_RichCompare(v_item, w_item, op);\n+    \n+    /* Clean up the temporary references */\n+    Py_DECREF(v_item);\n+    Py_DECREF(w_item);\n+    \n+    return result;\n }\n \n /*[clinic input]\n-list.__init__\n-\n-    iterable: object(c_default=\"NULL\") = ()\n+list.__init__    iterable: object(c_default=\"NULL\") = ()\n     /\n \n Built-in mutable sequence.\n", "result": true}