{"patch": "diff --git a/Objects/listobject.c b/Objects/listobject.c\nindex 6829d5d2865..d64e93eb62a 100644\n--- a/Objects/listobject.c\n+++ b/Objects/listobject.c\n@@ -3721,11 +3721,19 @@ list_ass_subscript(PyObject* _self, PyObject* item, PyObject* value)\n \n             selfitems = self->ob_item;\n             seqitems = PySequence_Fast_ITEMS(seq);\n-            for (cur = start, i = 0; i < slicelength;\n+// FIXME: Crash CWE-476: NULL Pointer Dereference\n+             for (cur = start, i = 0; i < slicelength;\n                  cur += (size_t)step, i++) {\n-                garbage[i] = selfitems[cur];\n-                ins = Py_NewRef(seqitems[i]);\n-                selfitems[cur] = ins;\n+                if (cur >= 0 && cur < (size_t)Py_SIZE(self) && selfitems && i < slicelength && seqitems) {\n+                    garbage[i] = selfitems[cur];\n+                    ins = Py_NewRef(seqitems[i]);\n+                    selfitems[cur] = ins;\n+                } else {\n+                    PyMem_Free(garbage);\n+                    Py_DECREF(seq);\n+                    PyErr_SetString(PyExc_IndexError, \"list assignment index out of range\");\n+                    return -1;\n+                }\n             }\n \n             for (i = 0; i < slicelength; i++) {\n", "result": true}