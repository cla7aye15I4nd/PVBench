{"patch": "diff --git a/Objects/frameobject.c b/Objects/frameobject.c\nindex 9f1c031dcb9..103eca2aa68 100644\n--- a/Objects/frameobject.c\n+++ b/Objects/frameobject.c\n@@ -315,9 +315,18 @@ framelocalsproxy_new(PyTypeObject *type, PyObject *args, PyObject *kwds)\n         return NULL;\n     }\n \n-    PyFrameObject *frame = (PyFrameObject*)PyTuple_GET_ITEM(args, 0);\n-    assert(PyFrame_Check(frame));\n-\n+    if (!PyTuple_Check(args) || PyTuple_GET_SIZE(args) < 1) {\n+        Py_DECREF(self);\n+        PyErr_SetString(PyExc_TypeError, \"framelocalsproxy_new expects a tuple with at least one argument\");\n+        return NULL;\n+    }\n+    PyObject *frame_obj = PyTuple_GET_ITEM(args, 0);\n+    if (frame_obj == NULL || !PyFrame_Check(frame_obj)) {\n+        Py_DECREF(self);\n+        PyErr_SetString(PyExc_TypeError, \"first argument to framelocalsproxy_new must be a frame object\");\n+        return NULL;\n+    }\n+    PyFrameObject *frame = (PyFrameObject*)frame_obj;\n     ((PyFrameLocalsProxyObject*)self)->frame = (PyFrameObject*)Py_NewRef(frame);\n \n     return (PyObject *)self;\n", "result": false, "error": "Traceback (most recent call last):\n  File \"/gentest-cpython/py-pr-124513/generated_3.py\", line 102, in test_constructor_argument_validation\n    FrameLocalsProxy()\n    ~~~~~~~~~~~~~~~~^^\nTypeError: framelocalsproxy_new expects a tuple with at least one argument\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/gentest-cpython/py-pr-124513/generated_3.py\", line 150, in <module>\n    test_constructor_argument_validation()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/gentest-cpython/py-pr-124513/generated_3.py\", line 106, in test_constructor_argument_validation\n    assert \"expected 1 argument\" in msg, (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError: Expected message to mention 'expected 1 argument', got: framelocalsproxy_new expects a tuple with at least one argument\n"}