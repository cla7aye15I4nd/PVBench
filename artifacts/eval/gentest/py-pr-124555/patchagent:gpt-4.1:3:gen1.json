{"patch": "diff --git a/Modules/_cursesmodule.c b/Modules/_cursesmodule.c\nindex ece6b13c788..dbb1d8acdeb 100644\n--- a/Modules/_cursesmodule.c\n+++ b/Modules/_cursesmodule.c\n@@ -3365,6 +3365,13 @@ _curses_initscr_impl(PyObject *module)\n {\n     WINDOW *win;\n \n+    /* Avoid calling initscr() if stdin is not a tty; defensive */\n+    if (!isatty(fileno(stdin))) {\n+        _cursesmodule_state *state = get_cursesmodule_state(module);\n+        PyErr_SetString(state->error, \"initscr: stdin is not a tty\");\n+        return NULL;\n+    }\n+\n     if (curses_initscr_called) {\n         wrefresh(stdscr);\n         return (PyObject *)PyCursesWindow_New(stdscr, NULL);\n", "result": true}