{"patch": "diff --git a/Modules/_cursesmodule.c b/Modules/_cursesmodule.c\nindex d32cff66144..9aba06f12dd 100644\n--- a/Modules/_cursesmodule.c\n+++ b/Modules/_cursesmodule.c\n@@ -3239,7 +3239,8 @@ _curses_init_pair_impl(PyObject *module, int pair_number, int fg, int bg)\n \n static PyObject *ModDict;\n \n-/*[clinic input]\n+// FIXME: Crash CWE-476: NULL Pointer Dereference\n+ /*[clinic input]\n _curses.initscr\n \n Initialize the library.\n@@ -3252,7 +3253,25 @@ _curses_initscr_impl(PyObject *module)\n /*[clinic end generated code: output=619fb68443810b7b input=514f4bce1821f6b5]*/\n {\n     WINDOW *win;\n-    PyCursesWindowObject *winobj;\n+\n+    /* Ensure safe initialization of ncurses environment */\n+    win = initscr();\n+    if (win == NULL || stdscr == NULL) {\n+        if (win != NULL) {\n+            endwin();\n+        }\n+        PyErr_SetString(PyCursesError, \n+                       \"curses initialization failed - unable to create screen\");\n+        return NULL;\n+    }\n+\n+    /* Additional validation of screen state */\n+    if (getmaxx(stdscr) <= 0 || getmaxy(stdscr) <= 0) {\n+        endwin();\n+        PyErr_SetString(PyCursesError, \n+                       \"invalid screen dimensions after initialization\");\n+        return NULL;\n+    }    PyCursesWindowObject *winobj;\n \n     if (initialised) {\n         wrefresh(stdscr);\n", "result": true}