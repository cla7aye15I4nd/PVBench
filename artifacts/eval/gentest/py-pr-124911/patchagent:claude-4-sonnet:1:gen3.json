{"patch": "diff --git a/Modules/_cursesmodule.c b/Modules/_cursesmodule.c\nindex 743b9e37fbc..baa6b4be14e 100644\n--- a/Modules/_cursesmodule.c\n+++ b/Modules/_cursesmodule.c\n@@ -2893,7 +2893,14 @@ De-initialize the library, and return terminal to normal status.\n static PyObject *\n _curses_endwin_impl(PyObject *module)\n /*[clinic end generated code: output=c0150cd96d2f4128 input=e172cfa43062f3fa]*/\n-NoArgNoReturnFunctionBody(endwin)\n+{\n+    PyCursesInitialised;\n+    int result = endwin();\n+    if (result != ERR) {\n+        initialised = FALSE;\n+    }\n+    return PyCursesCheckERR(result, \"endwin\");\n+}\n \n /*[clinic input]\n _curses.erasechar\n@@ -3255,8 +3262,8 @@ _curses_initscr_impl(PyObject *module)\n     PyCursesWindowObject *winobj;\n \n     if (initialised) {\n-        wrefresh(stdscr);\n-        return (PyObject *)PyCursesWindow_New(stdscr, NULL);\n+        /* Always reinitialize to avoid issues with invalid stdscr */\n+        initialised = FALSE;\n     }\n \n     win = initscr();\n", "result": true}