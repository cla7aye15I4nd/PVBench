{"patch": "diff --git a/Modules/_cursesmodule.c b/Modules/_cursesmodule.c\nindex 743b9e37fbc..00b3db4275a 100644\n--- a/Modules/_cursesmodule.c\n+++ b/Modules/_cursesmodule.c\n@@ -3245,7 +3245,7 @@ _curses.initscr\n Initialize the library.\n \n Return a WindowObject which represents the whole screen.\n-[clinic start generated code]*/\n+/*[clinic start generated code]*/\n \n static PyObject *\n _curses_initscr_impl(PyObject *module)\n@@ -3253,10 +3253,19 @@ _curses_initscr_impl(PyObject *module)\n {\n     WINDOW *win;\n     PyCursesWindowObject *winobj;\n-\n+// FIXME: Crash CWE-125: Out-of-bounds Read\n+ \n     if (initialised) {\n-        wrefresh(stdscr);\n-        return (PyObject *)PyCursesWindow_New(stdscr, NULL);\n+        if (stdscr != NULL) {\n+            int max_y, max_x;\n+            getmaxyx(stdscr, max_y, max_x);\n+            if (max_y > 0 && max_x > 0) {\n+                wrefresh(stdscr);\n+                return (PyObject *)PyCursesWindow_New(stdscr, NULL);\n+            }\n+        }\n+        PyErr_SetString(PyCursesError, \"Screen dimensions invalid\");\n+        return NULL;\n     }\n \n     win = initscr();\n@@ -3264,9 +3273,7 @@ _curses_initscr_impl(PyObject *module)\n     if (win == NULL) {\n         PyErr_SetString(PyCursesError, catchall_NULL);\n         return NULL;\n-    }\n-\n-    initialised = initialised_setupterm = TRUE;\n+    }    initialised = initialised_setupterm = TRUE;\n \n /* This was moved from initcurses() because it core dumped on SGI,\n    where they're not defined until you've called initscr() */\n", "result": true}