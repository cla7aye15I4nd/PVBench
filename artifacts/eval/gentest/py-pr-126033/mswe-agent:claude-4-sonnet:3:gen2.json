{"patch": "diff --git a/.gitignore b/.gitignore\nindex 8872e9d5508..959a12bbd57 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -171,3 +171,9 @@ Python/frozen_modules/MANIFEST\n \n # main branch only: ABI files are not checked/maintained.\n Doc/data/python*.abi\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\ndiff --git a/Modules/_elementtree.c b/Modules/_elementtree.c\nindex b73bd844626..79ea5c86f49 100644\n--- a/Modules/_elementtree.c\n+++ b/Modules/_elementtree.c\n@@ -1641,17 +1641,19 @@ _elementtree_Element_remove_impl(ElementObject *self, PyObject *subelement)\n         return NULL;\n     }\n \n-    for (i = 0; i < self->extra->length; i++) {\n-        if (self->extra->children[i] == subelement)\n+    for (i = 0; self->extra && i < self->extra->length; i++) {\n+        if (self->extra && self->extra->children[i] == subelement)\n             break;\n-        rc = PyObject_RichCompareBool(self->extra->children[i], subelement, Py_EQ);\n-        if (rc > 0)\n-            break;\n-        if (rc < 0)\n-            return NULL;\n+        if (self->extra) {\n+            rc = PyObject_RichCompareBool(self->extra->children[i], subelement, Py_EQ);\n+            if (rc > 0)\n+                break;\n+            if (rc < 0)\n+                return NULL;\n+        }\n     }\n \n-    if (i >= self->extra->length) {\n+    if (!self->extra || i >= self->extra->length) {\n         /* subelement is not in children, so raise exception */\n         PyErr_SetString(\n             PyExc_ValueError,\n@@ -1660,6 +1662,12 @@ _elementtree_Element_remove_impl(ElementObject *self, PyObject *subelement)\n         return NULL;\n     }\n \n+    if (!self->extra) {\n+        /* This should not happen, but let's be safe */\n+        PyErr_SetString(PyExc_RuntimeError, \"Element extra data corrupted\");\n+        return NULL;\n+    }\n+\n     found = self->extra->children[i];\n \n     self->extra->length--;\n", "result": true}