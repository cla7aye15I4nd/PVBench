{"patch": "diff --git a/Modules/_elementtree.c b/Modules/_elementtree.c\nindex b73bd844626..316891d653f 100644\n--- a/Modules/_elementtree.c\n+++ b/Modules/_elementtree.c\n@@ -1645,6 +1645,11 @@ _elementtree_Element_remove_impl(ElementObject *self, PyObject *subelement)\n         if (self->extra->children[i] == subelement)\n             break;\n         rc = PyObject_RichCompareBool(self->extra->children[i], subelement, Py_EQ);\n+        /* Check if extra was cleared during the callback */\n+        if (!self->extra) {\n+            PyErr_SetString(PyExc_ValueError, \"list.remove(x): x not in list\");\n+            return NULL;\n+        }\n         if (rc > 0)\n             break;\n         if (rc < 0)\n", "result": true}