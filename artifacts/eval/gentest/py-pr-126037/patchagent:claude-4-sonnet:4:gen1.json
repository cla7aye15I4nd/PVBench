{"patch": "diff --git a/Modules/_elementtree.c b/Modules/_elementtree.c\nindex d20bbcd21fd..a777f7c8eaa 100644\n--- a/Modules/_elementtree.c\n+++ b/Modules/_elementtree.c\n@@ -1253,6 +1253,8 @@ _elementtree_Element_find_impl(ElementObject *self, PyTypeObject *cls,\n /*[clinic end generated code: output=18f77d393c9fef1b input=94df8a83f956acc6]*/\n {\n     Py_ssize_t i;\n+    Py_ssize_t length;\n+    ElementObjectExtra *extra;\n     elementtreestate *st = get_elementtree_state_by_cls(cls);\n \n     if (checkpath(path) || namespaces != Py_None) {\n@@ -1264,8 +1266,13 @@ _elementtree_Element_find_impl(ElementObject *self, PyTypeObject *cls,\n     if (!self->extra)\n         Py_RETURN_NONE;\n \n-    for (i = 0; i < self->extra->length; i++) {\n-        PyObject* item = self->extra->children[i];\n+    /* Store extra and length in local variables to prevent use-after-free\n+       if self->extra gets freed during PyObject_RichCompareBool */\n+    extra = self->extra;\n+    length = extra->length;\n+\n+    for (i = 0; i < length; i++) {\n+        PyObject* item = extra->children[i];\n         int rc;\n         assert(Element_Check(st, item));\n         Py_INCREF(item);\n", "result": true}