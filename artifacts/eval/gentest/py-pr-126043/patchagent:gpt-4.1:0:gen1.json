{"patch": "diff --git a/Modules/_asynciomodule.c b/Modules/_asynciomodule.c\nindex 18dc2859357..845a27431a8 100644\n--- a/Modules/_asynciomodule.c\n+++ b/Modules/_asynciomodule.c\n@@ -290,26 +290,42 @@ call_soon(asyncio_state *state, PyObject *loop, PyObject *func, PyObject *arg,\n           PyObject *ctx)\n {\n     PyObject *handle;\n-\n     if (ctx == NULL) {\n-        PyObject *stack[] = {loop, func, arg};\n+        // Argument count: 3 (loop, func, arg)\n+        PyObject *stack[3];\n+        Py_XINCREF(loop);\n+        Py_XINCREF(func);\n+        Py_XINCREF(arg);\n+        stack[0] = loop;\n+        stack[1] = func;\n+        stack[2] = arg;\n         size_t nargsf = 3 | PY_VECTORCALL_ARGUMENTS_OFFSET;\n         handle = PyObject_VectorcallMethod(&_Py_ID(call_soon), stack, nargsf, NULL);\n-    }\n-    else {\n-        /* All refs in 'stack' are borrowed. */\n+        Py_XDECREF(loop);\n+        Py_XDECREF(func);\n+        Py_XDECREF(arg);\n+    } else {\n+        // Argument count: 3 or 4 (loop, func, [arg], ctx)\n         PyObject *stack[4];\n-        size_t nargs = 2;\n+        Py_XINCREF(loop);\n+        Py_XINCREF(func);\n+        Py_ssize_t nargs = 2;\n         stack[0] = loop;\n         stack[1] = func;\n         if (arg != NULL) {\n+            Py_XINCREF(arg);\n             stack[2] = arg;\n             nargs++;\n         }\n-        stack[nargs] = (PyObject *)ctx;\n+        Py_XINCREF(ctx);\n+        stack[nargs] = ctx;\n         size_t nargsf = nargs | PY_VECTORCALL_ARGUMENTS_OFFSET;\n-        handle = PyObject_VectorcallMethod(&_Py_ID(call_soon), stack, nargsf,\n-                                           state->context_kwname);\n+        handle = PyObject_VectorcallMethod(&_Py_ID(call_soon), stack, nargsf, state->context_kwname);\n+        Py_XDECREF(loop);\n+        Py_XDECREF(func);\n+        if (arg != NULL)\n+            Py_XDECREF(arg);\n+        Py_XDECREF(ctx);\n     }\n \n     if (handle == NULL) {\n", "result": true}