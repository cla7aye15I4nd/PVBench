{"patch": "diff --git a/Include/object.h b/Include/object.h\nindex 3876d8449af..0a382bc87ba 100644\n--- a/Include/object.h\n+++ b/Include/object.h\n@@ -245,7 +245,6 @@ _Py_IsOwnedByCurrentThread(PyObject *ob)\n #endif\n }\n #endif\n-\n // Py_TYPE() implementation for the stable ABI\n PyAPI_FUNC(PyTypeObject*) Py_TYPE(PyObject *ob);\n \n@@ -253,20 +252,23 @@ PyAPI_FUNC(PyTypeObject*) Py_TYPE(PyObject *ob);\n     // Stable ABI implements Py_TYPE() as a function call\n     // on limited C API version 3.14 and newer.\n #else\n-    static inline PyTypeObject* _Py_TYPE(PyObject *ob)\n-    {\n-        return ob->ob_type;\n+#include \"pyerrors.h\"  // Ensure Py_FatalError is declared before use\n+static inline PyTypeObject* _Py_TYPE(PyObject *ob)\n+{\n+    if (ob == NULL) {\n+        Py_FatalError(\"_Py_TYPE called with NULL pointer\");\n     }\n-    #if !defined(Py_LIMITED_API) || Py_LIMITED_API+0 < 0x030b0000\n-    #   define Py_TYPE(ob) _Py_TYPE(_PyObject_CAST(ob))\n-    #else\n-    #   define Py_TYPE(ob) _Py_TYPE(ob)\n-    #endif\n+    return ob->ob_type;\n+}\n+#if !defined(Py_LIMITED_API) || Py_LIMITED_API+0 < 0x030b0000\n+#   define Py_TYPE(ob) _Py_TYPE(_PyObject_CAST(ob))\n+#else\n+#   define Py_TYPE(ob) _Py_TYPE(ob)\n+#endif\n #endif\n \n PyAPI_DATA(PyTypeObject) PyLong_Type;\n PyAPI_DATA(PyTypeObject) PyBool_Type;\n-\n // bpo-39573: The Py_SET_SIZE() function must be used to set an object size.\n static inline Py_ssize_t Py_SIZE(PyObject *ob) {\n     assert(Py_TYPE(ob) != &PyLong_Type);\n", "result": true}