{"patch": "diff --git a/Modules/_ctypes/stgdict.c b/Modules/_ctypes/stgdict.c\nindex ad82e4891c5..016afdabd94 100644\n--- a/Modules/_ctypes/stgdict.c\n+++ b/Modules/_ctypes/stgdict.c\n@@ -568,9 +568,14 @@ PyCStructUnionType_update_stginfo(PyObject *type, PyObject *fields, int isStruct\n     if (!isStruct) {\n         size = union_size;\n     }\n-\n+// FIXME: Crash CWE-369: Divide By Zero\n+ \n     /* Adjust the size according to the alignment requirements */\n-    aligned_size = ((size + total_align - 1) / total_align) * total_align;\n+    if (total_align == 0) {\n+        aligned_size = 0;\n+    } else {\n+        aligned_size = ((size + total_align - 1) / total_align) * total_align;\n+    }\n \n     if (isStruct) {\n         char *ptr;\n", "result": false, "error": "Traceback (most recent call last):\n  File \"/gentest-cpython/py-pr-132673/generated_1.py\", line 71, in <module>\n    test_no_crash_zero_align_empty_fields_in_subprocess()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/gentest-cpython/py-pr-132673/generated_1.py\", line 45, in test_no_crash_zero_align_empty_fields_in_subprocess\n    assert len(lines) == 4, f\"Expected 4 OK lines, got {len(lines)}: {lines!r}; stdout: {stdout!r}\"\n           ^^^^^^^^^^^^^^^\nAssertionError: Expected 4 OK lines, got 1: ['OK: BigEndianStructure 1 1']; stdout: 'BAD: Structure 0 0\\nBAD: Structure 0 0\\nOK: BigEndianStructure 1 1\\nBAD: Union 0 0\\n'\n"}