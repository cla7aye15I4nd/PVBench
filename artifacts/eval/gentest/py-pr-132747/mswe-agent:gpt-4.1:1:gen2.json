{"patch": "diff --git a/.gitignore b/.gitignore\nindex 596e0f3af6a..8d4234061fa 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -172,3 +172,9 @@ Python/frozen_modules/MANIFEST\n \n # main branch only: ABI files are not checked/maintained.\n Doc/data/python*.abi\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\ndiff --git a/Objects/descrobject.c b/Objects/descrobject.c\nindex 268af0b217c..e0aab572ad3 100644\n--- a/Objects/descrobject.c\n+++ b/Objects/descrobject.c\n@@ -145,6 +145,11 @@ method_get(PyObject *self, PyObject *obj, PyObject *type)\n         return NULL;\n     }\n     if (descr->d_method->ml_flags & METH_METHOD) {\n+        if (type == NULL) {\n+            PyErr_SetString(PyExc_TypeError,\n+                            \"descriptor 'method' needs a type as arg 2, got NULL\");\n+            return NULL;\n+        }\n         if (PyType_Check(type)) {\n             return PyCMethod_New(descr->d_method, obj, NULL, descr->d_common.d_type);\n         } else {\n@@ -158,7 +163,6 @@ method_get(PyObject *self, PyObject *obj, PyObject *type)\n         return PyCFunction_NewEx(descr->d_method, obj, NULL);\n     }\n }\n-\n static PyObject *\n member_get(PyObject *self, PyObject *obj, PyObject *type)\n {\n@@ -210,6 +214,12 @@ wrapperdescr_get(PyObject *self, PyObject *obj, PyObject *type)\n     if (descr_check((PyDescrObject *)descr, obj) < 0) {\n         return NULL;\n     }\n+    if (obj == NULL) {\n+        return Py_NewRef(descr);\n+    }\n+    if (descr_check((PyDescrObject *)descr, obj) < 0) {\n+        return NULL;\n+    }\n     return PyWrapper_New((PyObject *)descr, obj);\n }\n \n", "result": true}