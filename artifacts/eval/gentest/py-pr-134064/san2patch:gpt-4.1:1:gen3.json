{"patch": "diff --git a/Include/refcount.h b/Include/refcount.h\nindex 177bbdaf0c5..20d810722e7 100644\n--- a/Include/refcount.h\n+++ b/Include/refcount.h\n@@ -490,7 +490,7 @@ static inline Py_ALWAYS_INLINE void Py_DECREF(PyObject *op)\n     do { \\\n         _Py_TYPEOF(op)* _tmp_op_ptr = &(op); \\\n         _Py_TYPEOF(op) _tmp_old_op = (*_tmp_op_ptr); \\\n-        if (_tmp_old_op != NULL) { \\\n+        if (_tmp_old_op != NULL && (void *)_tmp_old_op != (void *)-1) { \\\n             *_tmp_op_ptr = _Py_NULL; \\\n             Py_DECREF(_tmp_old_op); \\\n         } \\\n", "result": false, "error": "Traceback (most recent call last):\n  File \"/gentest-cpython/py-pr-134064/generated_3.py\", line 81, in <module>\n    test_invalid_script_types_raise_typeerror_without_crash()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/gentest-cpython/py-pr-134064/generated_3.py\", line 59, in test_invalid_script_types_raise_typeerror_without_crash\n    rc, out, err = assert_python_ok('-c', code)\n                   ~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"/tmp/py-pr-134064/build/Lib/test/support/script_helper.py\", line 182, in assert_python_ok\n    return _assert_python(True, *args, **env_vars)\n  File \"/tmp/py-pr-134064/build/Lib/test/support/script_helper.py\", line 167, in _assert_python\n    res.fail(cmd_line)\n    ~~~~~~~~^^^^^^^^^^\n  File \"/tmp/py-pr-134064/build/Lib/test/support/script_helper.py\", line 80, in fail\n    raise AssertionError(f\"Process return code is {exitcode}\\n\"\n    ...<10 lines>...\n                         f\"---\")\nAssertionError: Process return code is 1\ncommand line: ['/tmp/py-pr-134064/build/python', '-X', 'faulthandler', '-I', '-c', \"if 1:\\n    import sys\\n\\n    class BadPathRaises:\\n        def __fspath__(self):\\n            raise TypeError('fs boom')\\n\\n    class PathReturnsNone:\\n        def __fspath__(self):\\n            return None\\n\\n    cases = [\\n        ('None', None),\\n        ('int', 123),\\n        ('object', object()),\\n        ('BadPathRaises', BadPathRaises()),\\n        ('PathReturnsNone', PathReturnsNone()),\\n    ]\\n\\n    for name, arg in cases:\\n        try:\\n            # pid value is irrelevant here; we are probing argument conversion of script.\\n            sys.remote_exec(0, arg)\\n            print('NOEXC', name)\\n        except TypeError as e:\\n            # Expected after the fix: TypeError should be raised for all invalid types.\\n            print('TYPEERROR', name, str(e))\\n        except BaseException as e:\\n            # Any other exception type indicates unexpected behavior.\\n            print('OTHER', name, type(e).__name__, str(e))\\n    \"]\n\nstdout:\n---\n\n---\n\nstderr:\n---\nFatal Python error: Segmentation fault\n\nCurrent thread 0x00007efe19179300 [python] (most recent call first):\n  File \"<string>\", line 23 in <module>\n\nCurrent thread's C stack trace (most recent call first):\n  Binary file \"/tmp/py-pr-134064/build/python\", at ___interceptor_backtrace+0x4a [0x558522e8ca1a]\n  Binary file \"/tmp/py-pr-134064/build/python\", at _Py_DumpStack+0x15f [0x55852373e97f]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0xae522a [0x55852378422a]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0xae4e01 [0x558523783e01]\n  Binary file \"/lib/x86_64-linux-gnu/libc.so.6\", at +0x45330 [0x7efe191bf330]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0xa9363c [0x55852373263c]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0xa8f5f1 [0x55852372e5f1]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0x552bb4 [0x5585231f1bb4]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0x434bf0 [0x5585230d3bf0]\n  Binary file \"/tmp/py-pr-134064/build/python\", at PyObject_Vectorcall+0x3a [0x5585230d580a]\n  Binary file \"/tmp/py-pr-134064/build/python\", at _PyEval_EvalFrameDefault+0x784f [0x5585234f4dff]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0x84e132 [0x5585234ed132]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0x84dfbd [0x5585234ecfbd]\n  Binary file \"/tmp/py-pr-134064/build/python\", at PyEval_EvalCode+0x4db [0x5585234ec89b]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0xa3aaa7 [0x5585236d9aa7]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0xa3a7e8 [0x5585236d97e8]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0xa36117 [0x5585236d5117]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0xa35cbf [0x5585236d4cbf]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0xad80df [0x5585237770df]\n  Binary file \"/tmp/py-pr-134064/build/python\", at +0xad69c7 [0x5585237759c7]\n  Binary file \"/tmp/py-pr-134064/build/python\", at Py_RunMain+0x133 [0x558523774eb3]\n  Binary file"}