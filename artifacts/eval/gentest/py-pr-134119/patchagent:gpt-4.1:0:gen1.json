{"patch": "diff --git a/Objects/templateobject.c b/Objects/templateobject.c\nindex 06cb19e0b6d..3393283f3d2 100644\n--- a/Objects/templateobject.c\n+++ b/Objects/templateobject.c\n@@ -23,9 +23,14 @@ templateiter_next(PyObject *op)\n     if (self->from_strings) {\n         item = PyIter_Next(self->stringsiter);\n         self->from_strings = 0;\n-        if (PyUnicode_GET_LENGTH(item) == 0) {\n-            Py_SETREF(item, PyIter_Next(self->interpolationsiter));\n-            self->from_strings = 1;\n+        if (item != NULL) {\n+            if (PyUnicode_GET_LENGTH(item) == 0) {\n+                Py_SETREF(item, PyIter_Next(self->interpolationsiter));\n+                self->from_strings = 1;\n+            }\n+        } else {\n+            // Propagate NULL (end of iteration or error)\n+            return NULL;\n         }\n     } else {\n         item = PyIter_Next(self->interpolationsiter);\n", "result": true}