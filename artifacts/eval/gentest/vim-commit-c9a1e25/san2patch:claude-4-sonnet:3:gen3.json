{"patch": "diff --git a/src/normal.c b/src/normal.c\nindex 6cf2b9d2f..fce9990df 100644\n--- a/src/normal.c\n+++ b/src/normal.c\n@@ -7541,7 +7541,6 @@ nv_drop(cmdarg_T *cap UNUSED)\n     do_put('~', NULL, BACKWARD, 1L, PUT_CURSEND);\n }\n #endif\n-\n /*\n  * Trigger CursorHold event.\n  * When waiting for a character for 'updatetime' K_CURSORHOLD is put in the\n@@ -7550,7 +7549,12 @@ nv_drop(cmdarg_T *cap UNUSED)\n     static void\n nv_cursorhold(cmdarg_T *cap)\n {\n+    // Ensure curbuf is valid before autocmd processing\n+    if (curbuf == NULL)\n+        return;\n+    \n     apply_autocmds(EVENT_CURSORHOLD, NULL, NULL, FALSE, curbuf);\n     did_cursorhold = TRUE;\n-    cap->retval |= CA_COMMAND_BUSY;\t// don't call edit() now\n-}\n+    if (cap != NULL)\n+        cap->retval |= CA_COMMAND_BUSY;\t// don't call edit() now\n+}\n\\ No newline at end of file\n", "result": false, "error": "Exit code 1"}