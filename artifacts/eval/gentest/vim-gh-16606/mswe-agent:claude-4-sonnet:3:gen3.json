{"patch": "diff --git a/.gitignore b/.gitignore\nindex 0d38d901d..9f2f930da 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -121,3 +121,11 @@ src/cscope.out\n /.cache/clangd/\n /.ccls-cache/\n /compile_commands.json\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/src/message.c b/src/message.c\nindex 24984123b..7d1229a1f 100644\n--- a/src/message.c\n+++ b/src/message.c\n@@ -518,7 +518,7 @@ get_emsg_lnum(void)\n \n     // lnum is 0 when executing a command from the command line\n     // argument, we don't want a line number then\n-    if (SOURCING_NAME != NULL\n+    if (HAVE_SOURCING_INFO\n \t    && (other_sourcing_name() || SOURCING_LNUM != last_sourcing_lnum)\n \t    && SOURCING_LNUM != 0)\n     {\n@@ -560,14 +560,15 @@ msg_source(int attr)\n     {\n \tmsg_attr((char *)p, HL_ATTR(HLF_N));\n \tvim_free(p);\n-\tlast_sourcing_lnum = SOURCING_LNUM;  // only once for each line\n+\tif (HAVE_SOURCING_INFO)\n+\t    last_sourcing_lnum = SOURCING_LNUM;  // only once for each line\n     }\n \n     // remember the last sourcing name printed, also when it's empty\n-    if (SOURCING_NAME == NULL || other_sourcing_name())\n+    if (!HAVE_SOURCING_INFO || other_sourcing_name())\n     {\n \tVIM_CLEAR(last_sourcing_name);\n-\tif (SOURCING_NAME != NULL)\n+\tif (HAVE_SOURCING_INFO)\n \t    last_sourcing_name = vim_strsave(SOURCING_NAME);\n     }\n     --no_wait_return;\n", "result": true}