{"patch": "diff --git a/src/message.c b/src/message.c\nindex 24984123b..d37223f4c 100644\n--- a/src/message.c\n+++ b/src/message.c\n@@ -781,7 +781,8 @@ emsg_core(const char *s)\n      * Display name and line number for the source of the error.\n      */\n     msg_scroll = TRUE;\n-    msg_source(attr);\n+    if (HAVE_SOURCING_INFO)\n+        msg_source(attr);\n \n     /*\n      * Display the error message itself.\n", "result": true}