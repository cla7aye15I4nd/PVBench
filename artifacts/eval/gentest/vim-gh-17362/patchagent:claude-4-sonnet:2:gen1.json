{"patch": "diff --git a/src/tuple.c b/src/tuple.c\nindex eff4bdccc..1764ff7e8 100644\n--- a/src/tuple.c\n+++ b/src/tuple.c\n@@ -516,8 +516,12 @@ eval_tuple(char_u **arg, typval_T *rettv, evalarg_T *evalarg, int do_error)\n \tif (rettv->v_type != VAR_UNKNOWN)\n \t{\n \t    // Add the first item to the tuple from \"rettv\"\n-\t    if (tuple_append_tv(tuple, rettv) == FAIL)\n+\t    if (tuple_append_tv(tuple, rettv) == FAIL) {\n+\t\ttuple_free(tuple);\n \t\treturn FAIL;\n+\t    }\n+\t    // Clear rettv to avoid double free if tuple is freed later\n+\t    init_tv(rettv);\n \t}\n     }\n \n@@ -593,7 +597,13 @@ eval_tuple(char_u **arg, typval_T *rettv, evalarg_T *evalarg, int do_error)\n \t    semsg(_(e_missing_end_of_tuple_rsp_str), *arg);\n failret:\n \tif (evaluate)\n+\t{\n \t    tuple_free(tuple);\n+\t    // If we added the first item from rettv to the tuple and then failed,\n+\t    // rettv was already cleared above to prevent double free\n+\t    if (rettv->v_type == VAR_UNKNOWN)\n+\t\treturn FAIL;\n+\t}\n \treturn FAIL;\n     }\n \n", "result": true}