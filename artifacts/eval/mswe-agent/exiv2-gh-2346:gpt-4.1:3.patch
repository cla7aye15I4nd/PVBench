
diff --git a/.gitignore b/.gitignore
index 02b6d1ad7..15fa78f8f 100644
--- a/.gitignore
+++ b/.gitignore
@@ -28,3 +28,13 @@ contrib/vms/.vagrant
 CMakeUserPresets.json
 
 *cppcheck*
+build/
+Build/
+bin/
+lib/
+*.out
+*.obj
+*.exe
+*.dll
+*.so
+*.dylib
diff --git a/src/quicktimevideo.cpp b/src/quicktimevideo.cpp
index 1c54b01b9..e53eed028 100644
--- a/src/quicktimevideo.cpp
+++ b/src/quicktimevideo.cpp
@@ -620,6 +620,7 @@ void QuickTimeVideo::tagDecoder(Exiv2::DataBuf& buf, size_t size) {
     keysTagDecoder(size);
 
   else if (equalsQTimeTag(buf, "url ")) {
+    buf.resize(size);
     io_->readOrThrow(buf.data(), size);
     if (currentStream_ == Video)
       xmpData_["Xmp.video.URL"] = Exiv2::toString(buf.data());
@@ -628,6 +629,7 @@ void QuickTimeVideo::tagDecoder(Exiv2::DataBuf& buf, size_t size) {
   }
 
   else if (equalsQTimeTag(buf, "urn ")) {
+    buf.resize(size);
     io_->readOrThrow(buf.data(), size);
     if (currentStream_ == Video)
       xmpData_["Xmp.video.URN"] = Exiv2::toString(buf.data());
@@ -636,6 +638,7 @@ void QuickTimeVideo::tagDecoder(Exiv2::DataBuf& buf, size_t size) {
   }
 
   else if (equalsQTimeTag(buf, "dcom")) {
+    buf.resize(size);
     io_->readOrThrow(buf.data(), size);
     xmpData_["Xmp.video.Compressor"] = Exiv2::toString(buf.data());
   }
@@ -817,6 +820,7 @@ void QuickTimeVideo::userDataDecoder(size_t size_external) {
 
     else if (equalsQTimeTag(buf, "CNCV") || equalsQTimeTag(buf, "CNFV") || equalsQTimeTag(buf, "CNMN") ||
              equalsQTimeTag(buf, "NCHD") || equalsQTimeTag(buf, "FFMV")) {
+      buf.resize(size - 8);
       io_->readOrThrow(buf.data(), size - 8);
       xmpData_[exvGettext(tv->label_)] = Exiv2::toString(buf.data());
     }
@@ -833,7 +837,8 @@ void QuickTimeVideo::userDataDecoder(size_t size_external) {
     }
 
     else if (tv) {
-      io_->readOrThrow(buf.data(), 4);
+      buf.resize(size - 12);
+      io_->readOrThrow(buf.data(), size - 12);
       io_->readOrThrow(buf.data(), size - 12);
       xmpData_[exvGettext(tv->label_)] = Exiv2::toString(buf.data());
     }
