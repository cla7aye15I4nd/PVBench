[{"patch": "diff --git a/.gitignore b/.gitignore\nindex 503e3e8135f..2006ad6e4a1 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -293,3 +293,6 @@ icu4c/build_qnx/nto-x86_64-o/*\n icu4c/build_qnx/linux-x86_64-o/Makefile\n icu4c/build_qnx/nto-aarch64-le/Makefile\n icu4c/build_qnx/nto-x86_64-o/Makefile\n+build/\n+Build/\n+*.exe\ndiff --git a/icu4c/source/i18n/calendar.cpp b/icu4c/source/i18n/calendar.cpp\nindex e713fb0195e..c3c718cc651 100644\n--- a/icu4c/source/i18n/calendar.cpp\n+++ b/icu4c/source/i18n/calendar.cpp\n@@ -1639,9 +1639,17 @@ void Calendar::computeWeekFields(UErrorCode &ec) {\n         // to handle the case in which we are the first week of the\n         // next year.\n \n-        int32_t prevDoy = dayOfYear + handleGetYearLength(eyear - 1);\n+        int32_t prevYear;\n+        if (uprv_add32_overflow(eyear, -1, &prevYear)) {\n+            ec = U_ILLEGAL_ARGUMENT_ERROR;\n+            return;\n+        }\n+        int32_t prevDoy = dayOfYear + handleGetYearLength(prevYear);\n         woy = weekNumber(prevDoy, dayOfWeek);\n-        yearOfWeekOfYear--;\n+        if (uprv_add32_overflow(yearOfWeekOfYear, -1, &yearOfWeekOfYear)) {\n+            ec = U_ILLEGAL_ARGUMENT_ERROR;\n+            return;\n+        }\n     } else {\n         int32_t lastDoy = handleGetYearLength(eyear);\n         // Fast check: For it to be week 1 of the next year, the DOY\n@@ -1658,7 +1666,10 @@ void Calendar::computeWeekFields(UErrorCode &ec) {\n             if (((6 - lastRelDow) >= getMinimalDaysInFirstWeek()) &&\n                 ((dayOfYear + 7 - relDow) > lastDoy)) {\n                     woy = 1;\n-                    yearOfWeekOfYear++;\n+                    if (uprv_add32_overflow(yearOfWeekOfYear, 1, &yearOfWeekOfYear)) {\n+                        ec = U_ILLEGAL_ARGUMENT_ERROR;\n+                        return;\n+                    }\n                 }\n         }\n     }\n@@ -3550,7 +3561,12 @@ int32_t Calendar::handleComputeJulianDay(UCalendarDateFields bestField, UErrorCo\n                 // need to be sure to stay in 'real' year.\n                 int32_t woy = internalGet(bestField);\n \n-                int32_t nextJulianDay = handleComputeMonthStart(year+1, 0, false, status); // jd of day before jan 1\n+                int32_t nextYear;\n+                if (uprv_add32_overflow(year, 1, &nextYear)) {\n+                    status = U_ILLEGAL_ARGUMENT_ERROR;\n+                    return 0;\n+                }\n+                int32_t nextJulianDay = handleComputeMonthStart(nextYear, 0, false, status); // jd of day before jan 1\n                 if (U_FAILURE(status)) {\n                     return 0;\n                 }\n@@ -3563,7 +3579,7 @@ int32_t Calendar::handleComputeJulianDay(UCalendarDateFields bestField, UErrorCo\n                 if(woy==1) {  // FIRST WEEK ---------------------------------\n #if defined (U_DEBUG_CAL)\n                     fprintf(stderr, \"%s:%d - woy=%d, yp=%d, nj(%d)=%d, nf=%d\", __FILE__, __LINE__,\n-                        internalGet(bestField), resolveFields(kYearPrecedence), year+1,\n+                        internalGet(bestField), resolveFields(kYearPrecedence), nextYear,\n                         nextJulianDay, nextFirst);\n \n                     fprintf(stderr, \" next: %d DFW,  min=%d   \\n\", (7-nextFirst), getMinimalDaysInFirstWeek() );\n@@ -3605,11 +3621,16 @@ int32_t Calendar::handleComputeJulianDay(UCalendarDateFields bestField, UErrorCo\n \n #if defined (U_DEBUG_CAL)\n                     fprintf(stderr, \"%s:%d - y=%d, y-1=%d doy%d, njd%d (C.F. %d)\\n\",\n-                        __FILE__, __LINE__, year, year-1, testDate, julianDay+testDate, nextJulianDay);\n+                        __FILE__, __LINE__, year, (year == INT32_MIN ? year : year-1), testDate, julianDay+testDate, nextJulianDay);\n #endif\n                     if(julianDay+testDate > nextJulianDay) { // is it past Dec 31?  (nextJulianDay is day BEFORE year+1's  Jan 1)\n                         // Fire up the calculating engines.. retry YWOY = (year-1)\n-                        julianDay = handleComputeMonthStart(year-1, 0, false, status); // jd before Jan 1 of previous year\n+                        int32_t prevYear;\n+                        if (uprv_add32_overflow(year, -1, &prevYear)) {\n+                            status = U_ILLEGAL_ARGUMENT_ERROR;\n+                            return 0;\n+                        }\n+                        julianDay = handleComputeMonthStart(prevYear, 0, false, status); // jd before Jan 1 of previous year\n                         if (U_FAILURE(status)) {\n                             return 0;\n                         }\n@@ -3622,10 +3643,11 @@ int32_t Calendar::handleComputeJulianDay(UCalendarDateFields bestField, UErrorCo\n \n #if defined (U_DEBUG_CAL)\n                         fprintf(stderr, \"%s:%d - date now %d, jd%d, ywoy%d\\n\",\n-                            __FILE__, __LINE__, date, julianDay, year-1);\n+                            __FILE__, __LINE__, date, julianDay, prevYear);\n #endif\n \n \n+\n                     } /* correction needed */\n                 } /* leastmaximum */\n             } /* resolvefields(year) != year_woy */\n@@ -3775,7 +3797,12 @@ int32_t Calendar::handleGetExtendedYearFromWeekFields(int32_t yearWoy, int32_t w\n             } else {\n                 // First WOY is split between two years\n                 if( dowLocal < first) { // we are prior to Jan 1\n-                    return yearWoy-1; // previous year\n+                    int32_t prevYear;\n+                    if (uprv_add32_overflow(yearWoy, -1, &prevYear)) {\n+                        status = U_ILLEGAL_ARGUMENT_ERROR;\n+                        return 0;\n+                    }\n+                    return prevYear; // previous year\n                 } else {\n                     return yearWoy; // in this year\n                 }\n@@ -3793,7 +3820,12 @@ int32_t Calendar::handleGetExtendedYearFromWeekFields(int32_t yearWoy, int32_t w\n \n             if( (jd+1) >= nextJan1Start ) {\n                 // we are in week 52 or 53 etc. - actual year is yearWoy+1\n-                return yearWoy+1;\n+                int32_t nextYear;\n+                if (uprv_add32_overflow(yearWoy, 1, &nextYear)) {\n+                    status = U_ILLEGAL_ARGUMENT_ERROR;\n+                    return 0;\n+                }\n+                return nextYear;\n             } else {\n                 // still in yearWoy;\n                 return yearWoy;\n@@ -3811,13 +3843,23 @@ int32_t Calendar::handleGetExtendedYearFromWeekFields(int32_t yearWoy, int32_t w\n             }\n             if((m == 0) &&\n             (woy >= getLeastMaximum(UCAL_WEEK_OF_YEAR))) {\n-                return yearWoy+1; // month 0, late woy = in the next year\n+                int32_t nextYear;\n+                if (uprv_add32_overflow(yearWoy, 1, &nextYear)) {\n+                    status = U_ILLEGAL_ARGUMENT_ERROR;\n+                    return 0;\n+                }\n+                return nextYear; // month 0, late woy = in the next year\n             } else if(woy==1) {\n                 //if(nextJan1InPrevYear) {\n                 if(m == 0) {\n                     return yearWoy;\n                 } else {\n-                    return yearWoy-1;\n+                    int32_t prevYear;\n+                    if (uprv_add32_overflow(yearWoy, -1, &prevYear)) {\n+                        status = U_ILLEGAL_ARGUMENT_ERROR;\n+                        return 0;\n+                    }\n+                    return prevYear;\n                 }\n                 //}\n             }\n@@ -3834,14 +3876,24 @@ int32_t Calendar::handleGetExtendedYearFromWeekFields(int32_t yearWoy, int32_t w\n \n int32_t Calendar::handleGetMonthLength(int32_t extendedYear, int32_t month, UErrorCode& status) const\n {\n-    return handleComputeMonthStart(extendedYear, month+1, true, status) -\n+    int32_t nextMonth;\n+    if (uprv_add32_overflow(month, 1, &nextMonth)) {\n+        status = U_ILLEGAL_ARGUMENT_ERROR;\n+        return 0;\n+    }\n+    return handleComputeMonthStart(extendedYear, nextMonth, true, status) -\n         handleComputeMonthStart(extendedYear, month, true, status);\n }\n \n int32_t Calendar::handleGetYearLength(int32_t eyear) const\n {\n     UErrorCode status = U_ZERO_ERROR;\n-    int32_t result = handleComputeMonthStart(eyear+1, 0, false, status) -\n+    int32_t nextYear;\n+    if (uprv_add32_overflow(eyear, 1, &nextYear)) {\n+        status = U_ILLEGAL_ARGUMENT_ERROR;\n+        return 0;\n+    }\n+    int32_t result = handleComputeMonthStart(nextYear, 0, false, status) -\n         handleComputeMonthStart(eyear, 0, false, status);\n     U_ASSERT(U_SUCCESS(status));\n     return result;\n"}]