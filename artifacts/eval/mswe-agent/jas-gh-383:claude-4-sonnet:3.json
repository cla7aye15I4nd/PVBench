[{"patch": "diff --git a/.gitignore b/.gitignore\nindex b63f1b8..ea6f7f1 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -25,3 +25,13 @@ Makefile.in\n # src/libjasper/include/jasper directory\n /src/libjasper/include/jasper/jas_config.h\n /src/libjasper/include/jasper/stamp-h1\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\n+*.exe\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/src/libjasper/heic/heic_dec.c b/src/libjasper/heic/heic_dec.c\nindex cde3843..1008d35 100644\n--- a/src/libjasper/heic/heic_dec.c\n+++ b/src/libjasper/heic/heic_dec.c\n@@ -193,7 +193,11 @@ jas_image_t *jas_heic_decode(jas_stream_t *in, const char *optstr)\n \theif_context_read_from_memory_without_copy(ctx, ptr, size, 0);\n \n \t/* Get a handle to the primary image. */\n-\theif_context_get_primary_image_handle(ctx, &handle);\n+\tstruct heif_error err_handle = heif_context_get_primary_image_handle(ctx, &handle);\n+\tif (err_handle.code != 0) {\n+\t\tjas_logerrorf(\"heif_context_get_primary_image_handle failed: %s\\n\", err_handle.message);\n+\t\tgoto error;\n+\t}\n \n \tint width = heif_image_handle_get_width(handle);\n \tint height = heif_image_handle_get_height(handle);\n"}]