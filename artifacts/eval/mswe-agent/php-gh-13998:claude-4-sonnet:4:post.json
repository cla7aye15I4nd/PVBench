{"patch": "diff --git a/.gitignore b/.gitignore\nindex b8eb03412fa..e959803a362 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -296,3 +296,12 @@ tmp-php.ini\n !/ext/fileinfo/magicdata.patch\n !/ext/pcre/pcre2lib/config.h\n !/win32/build/Makefile\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.exe\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/ext/pdo_sqlite/sqlite_driver.c b/ext/pdo_sqlite/sqlite_driver.c\nindex 2f494c2ddb8..a06a27317ff 100644\n--- a/ext/pdo_sqlite/sqlite_driver.c\n+++ b/ext/pdo_sqlite/sqlite_driver.c\n@@ -435,6 +435,7 @@ static int do_callback(struct pdo_sqlite_fci *fc, zval *cb,\n \n \t\tif (agg_context) {\n \t\t\tzval_ptr_dtor(&agg_context->val);\n+\t\t\tZVAL_UNDEF(&agg_context->val);\n \t\t}\n \t} else {\n \t\t/* we're stepping in an aggregate; the return value goes into\n@@ -442,6 +443,7 @@ static int do_callback(struct pdo_sqlite_fci *fc, zval *cb,\n \t\tif (agg_context) {\n \t\t\tif (Z_ISUNDEF(retval)) {\n \t\t\t\tzval_ptr_dtor(&agg_context->val);\n+\t\t\t\tZVAL_UNDEF(&agg_context->val);\n \t\t\t\treturn FAILURE;\n \t\t\t}\n \t\t\tzval_ptr_dtor(Z_REFVAL(agg_context->val));\n", "result": true}