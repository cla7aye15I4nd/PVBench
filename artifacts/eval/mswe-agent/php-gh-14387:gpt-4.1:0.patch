
diff --git a/.gitignore b/.gitignore
index b8eb03412fa..e959803a362 100644
--- a/.gitignore
+++ b/.gitignore
@@ -296,3 +296,12 @@ tmp-php.ini
 !/ext/fileinfo/magicdata.patch
 !/ext/pcre/pcre2lib/config.h
 !/win32/build/Makefile
+build/
+Build/
+bin/
+lib/
+*.out
+*.exe
+*.dll
+*.so
+*.dylib
diff --git a/Zend/zend_builtin_functions.c b/Zend/zend_builtin_functions.c
index 72cb07decbd..a3db4ec9cb5 100644
--- a/Zend/zend_builtin_functions.c
+++ b/Zend/zend_builtin_functions.c
@@ -1744,15 +1744,17 @@ ZEND_API void zend_fetch_debug_backtrace(zval *return_value, int skip_last, int
 
 		if (prev && prev->func && ZEND_USER_CODE(prev->func->common.type)) {
 			filename = prev->func->op_array.filename;
-			if (prev->opline->opcode == ZEND_HANDLE_EXCEPTION) {
-				if (EG(opline_before_exception)) {
-					lineno = EG(opline_before_exception)->lineno;
-				} else {
-					lineno = prev->func->op_array.line_end;
-				}
-			} else {
-				lineno = prev->opline->lineno;
-			}
+            if (prev->opline && prev->opline->opcode == ZEND_HANDLE_EXCEPTION) {
+                if (EG(opline_before_exception)) {
+                    lineno = EG(opline_before_exception)->lineno;
+                } else {
+                    lineno = prev->func->op_array.line_end;
+                }
+            } else if (prev->opline) {
+                lineno = prev->opline->lineno;
+            } else {
+                lineno = prev->func->op_array.line_end;
+            }
 			ZVAL_STR_COPY(&tmp, filename);
 			_zend_hash_append_ex(stack_frame, ZSTR_KNOWN(ZEND_STR_FILE), &tmp, 1);
 			ZVAL_LONG(&tmp, lineno);
@@ -1778,8 +1780,12 @@ ZEND_API void zend_fetch_debug_backtrace(zval *return_value, int skip_last, int
 				if (prev && prev->func && ZEND_USER_CODE(prev->func->common.type)) {
 					ZVAL_STR_COPY(&tmp, prev->func->op_array.filename);
 					_zend_hash_append_ex(stack_frame, ZSTR_KNOWN(ZEND_STR_FILE), &tmp, 1);
-					ZVAL_LONG(&tmp, prev->opline->lineno);
-					_zend_hash_append_ex(stack_frame, ZSTR_KNOWN(ZEND_STR_LINE), &tmp, 1);
+                    if (prev->opline) {
+                        ZVAL_LONG(&tmp, prev->opline->lineno);
+                    } else {
+                        ZVAL_LONG(&tmp, prev->func->op_array.line_end);
+                    }
+                    _zend_hash_append_ex(stack_frame, ZSTR_KNOWN(ZEND_STR_LINE), &tmp, 1);
 					break;
 				}
 				prev_call = prev;
@@ -1828,10 +1834,11 @@ ZEND_API void zend_fetch_debug_backtrace(zval *return_value, int skip_last, int
 			bool build_filename_arg = 1;
 			zend_string *pseudo_function_name;
 			uint32_t include_kind = 0;
-			if (prev && prev->func && ZEND_USER_CODE(prev->func->common.type) && prev->opline->opcode == ZEND_INCLUDE_OR_EVAL) {
+			if (prev && prev->func && ZEND_USER_CODE(prev->func->common.type) && prev->opline && prev->opline->opcode == ZEND_INCLUDE_OR_EVAL) {
 				include_kind = prev->opline->extended_value;
 			}
 
+
 			switch (include_kind) {
 				case ZEND_EVAL:
 					pseudo_function_name = ZSTR_KNOWN(ZEND_STR_EVAL);
@@ -1887,8 +1894,9 @@ ZEND_API void zend_fetch_debug_backtrace(zval *return_value, int skip_last, int
 		 && !fake_frame
 		 && prev
 		 && prev->func
-		 && ZEND_USER_CODE(prev->func->common.type)
-		 && prev->opline->opcode == ZEND_INCLUDE_OR_EVAL) {
+            && prev->opline
+            && prev->opline->opcode == ZEND_INCLUDE_OR_EVAL) {
+
 			fake_frame = 1;
 		} else {
 			fake_frame = 0;
diff --git a/build.log b/build.log
new file mode 100644
index 00000000000..debc5e67279
--- /dev/null
+++ b/build.log
@@ -0,0 +1,568 @@
+/bin/bash /home/php/libtool --silent --preserve-dup-deps --tag=CC --mode=compile cc -Iext/spl/ -I/home/php/ext/spl/ -I/home/php/include -I/home/php/main -I/home/php -I/home/php/ext/date/lib -I/usr/include/libxml2 -I/home/php/TSRM -I/home/php/Zend  -D_GNU_SOURCE  -fno-common -Wstrict-prototypes -Wformat-truncation -Wlogical-op -Wduplicated-cond -Wno-clobbered -Wall -Wextra -Wno-strict-aliasing -Wno-unused-parameter -Wno-sign-compare -fsanitize=address -ffp-contract=off -fvisibility=hidden -Wimplicit-fallthrough=1 -DZEND_SIGNALS   -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -c /home/php/ext/spl/spl_array.c -o ext/spl/spl_array.lo  -MMD -MF ext/spl/spl_array.dep -MT ext/spl/spl_array.lo
+/home/php/ext/spl/spl_array.c: In function ‘spl_array_unset_dimension_ex’:
+/home/php/ext/spl/spl_array.c:584:13: error: invalid storage class for function ‘spl_array_unset_dimension’
+  584 | static void spl_array_unset_dimension(zend_object *object, zval *offset) /* {{{ */
+      |             ^~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:592:13: error: invalid storage class for function ‘spl_array_has_dimension_ex’
+  592 | static bool spl_array_has_dimension_ex(bool check_inherited, zend_object *object, zval *offset, int check_empty) /* {{{ */
+      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:655:12: error: invalid storage class for function ‘spl_array_has_dimension’
+  655 | static int spl_array_has_dimension(zend_object *object, zval *offset, int check_empty) /* {{{ */
+      |            ^~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:739:19: error: invalid storage class for function ‘spl_array_get_properties_for’
+  739 | static HashTable *spl_array_get_properties_for(zend_object *object, zend_prop_purpose purpose) /* {{{ */
+      |                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:775:26: error: invalid storage class for function ‘spl_array_get_debug_info’
+  775 | static inline HashTable* spl_array_get_debug_info(zend_object *obj) /* {{{ */
+      |                          ^~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:808:19: error: invalid storage class for function ‘spl_array_get_gc’
+  808 | static HashTable *spl_array_get_gc(zend_object *obj, zval **gc_data, int *gc_data_count) /* {{{ */
+      |                   ^~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:817:14: error: invalid storage class for function ‘spl_array_read_property’
+  817 | static zval *spl_array_read_property(zend_object *object, zend_string *name, int type, void **cache_slot, zval *rv) /* {{{ */
+      |              ^~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:830:14: error: invalid storage class for function ‘spl_array_write_property’
+  830 | static zval *spl_array_write_property(zend_object *object, zend_string *name, zval *value, void **cache_slot) /* {{{ */
+      |              ^~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:844:14: error: invalid storage class for function ‘spl_array_get_property_ptr_ptr’
+  844 | static zval *spl_array_get_property_ptr_ptr(zend_object *object, zend_string *name, int type, void **cache_slot) /* {{{ */
+      |              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:862:12: error: invalid storage class for function ‘spl_array_has_property’
+  862 | static int spl_array_has_property(zend_object *object, zend_string *name, int has_set_exists, void **cache_slot) /* {{{ */
+      |            ^~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:875:13: error: invalid storage class for function ‘spl_array_unset_property’
+  875 | static void spl_array_unset_property(zend_object *object, zend_string *name, void **cache_slot) /* {{{ */
+      |             ^~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:889:12: error: invalid storage class for function ‘spl_array_compare_objects’
+  889 | static int spl_array_compare_objects(zval *o1, zval *o2) /* {{{ */
+      |            ^~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:913:20: error: invalid storage class for function ‘spl_array_skip_protected’
+  913 | static zend_result spl_array_skip_protected(spl_array_object *intern, HashTable *aht) /* {{{ */
+      |                    ^~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:943:20: error: invalid storage class for function ‘spl_array_next_ex’
+  943 | static zend_result spl_array_next_ex(spl_array_object *intern, HashTable *aht) /* {{{ */
+      |                    ^~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:955:20: error: invalid storage class for function ‘spl_array_next’
+  955 | static zend_result spl_array_next(spl_array_object *intern) /* {{{ */
+      |                    ^~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:963:13: error: invalid storage class for function ‘spl_array_it_dtor’
+  963 | static void spl_array_it_dtor(zend_object_iterator *iter) /* {{{ */
+      |             ^~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:969:12: error: invalid storage class for function ‘spl_array_it_valid’
+  969 | static int spl_array_it_valid(zend_object_iterator *iter) /* {{{ */
+      |            ^~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:977:14: error: invalid storage class for function ‘spl_array_it_get_current_data’
+  977 | static zval *spl_array_it_get_current_data(zend_object_iterator *iter) /* {{{ */
+      |              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1012:13: error: invalid storage class for function ‘spl_array_it_get_current_key’
+ 1012 | static void spl_array_it_get_current_key(zend_object_iterator *iter, zval *key) /* {{{ */
+      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1020:13: error: invalid storage class for function ‘spl_array_it_move_forward’
+ 1020 | static void spl_array_it_move_forward(zend_object_iterator *iter) /* {{{ */
+      |             ^~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1028:13: error: invalid storage class for function ‘spl_array_rewind’
+ 1028 | static void spl_array_rewind(spl_array_object *intern) /* {{{ */
+      |             ^~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1041:13: error: invalid storage class for function ‘spl_array_it_rewind’
+ 1041 | static void spl_array_it_rewind(zend_object_iterator *iter) /* {{{ */
+      |             ^~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1048:19: error: invalid storage class for function ‘spl_array_it_get_gc’
+ 1048 | static HashTable *spl_array_it_get_gc(zend_object_iterator *iter, zval **table, int *n)
+      |                   ^~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1056:13: error: invalid storage class for function ‘spl_array_set_array’
+ 1056 | static void spl_array_set_array(zval *object, spl_array_object *intern, zval *array, zend_long ar_flags, bool just_array) {
+      |             ^~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1114:9: error: initializer element is not constant
+ 1114 |         spl_array_it_dtor,
+      |         ^~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1114:9: note: (near initialization for ‘spl_array_it_funcs.dtor’)
+/home/php/ext/spl/spl_array.c:1115:9: error: initializer element is not constant
+ 1115 |         spl_array_it_valid,
+      |         ^~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1115:9: note: (near initialization for ‘spl_array_it_funcs.valid’)
+/home/php/ext/spl/spl_array.c:1116:9: error: initializer element is not constant
+ 1116 |         spl_array_it_get_current_data,
+      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1116:9: note: (near initialization for ‘spl_array_it_funcs.get_current_data’)
+/home/php/ext/spl/spl_array.c:1117:9: error: initializer element is not constant
+ 1117 |         spl_array_it_get_current_key,
+      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1117:9: note: (near initialization for ‘spl_array_it_funcs.get_current_key’)
+/home/php/ext/spl/spl_array.c:1118:9: error: initializer element is not constant
+ 1118 |         spl_array_it_move_forward,
+      |         ^~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1118:9: note: (near initialization for ‘spl_array_it_funcs.move_forward’)
+/home/php/ext/spl/spl_array.c:1119:9: error: initializer element is not constant
+ 1119 |         spl_array_it_rewind,
+      |         ^~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1119:9: note: (near initialization for ‘spl_array_it_funcs.rewind’)
+/home/php/ext/spl/spl_array.c:1121:9: error: initializer element is not constant
+ 1121 |         spl_array_it_get_gc,
+      |         ^~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1121:9: note: (near initialization for ‘spl_array_it_funcs.get_gc’)
+/home/php/ext/spl/spl_array.c:1325:18: error: invalid storage class for function ‘spl_array_object_count_elements_helper’
+ 1325 | static zend_long spl_array_object_count_elements_helper(spl_array_object *intern) /* {{{ */
+      |                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1346:20: error: invalid storage class for function ‘spl_array_object_count_elements’
+ 1346 | static zend_result spl_array_object_count_elements(zend_object *object, zend_long *count) /* {{{ */
+      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1377:13: error: invalid storage class for function ‘spl_array_method’
+ 1377 | static void spl_array_method(INTERNAL_FUNCTION_PARAMETERS, char *fname, size_t fname_len, int use_arg) /* {{{ */
+      |             ^~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1551:13: error: invalid storage class for function ‘spl_instantiate_child_arg’
+ 1551 | static void spl_instantiate_child_arg(zend_class_entry *pce, zval *retval, zval *arg1, zval *arg2) /* {{{ */
+      |             ^~~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1913:1: error: expected declaration or statement at end of input
+ 1913 | }
+      | ^
+/home/php/ext/spl/spl_array.c: At top level:
+/home/php/ext/spl/spl_array.c:112:20: warning: ‘spl_array_skip_protected’ used but never defined
+  112 | static zend_result spl_array_skip_protected(spl_array_object *intern, HashTable *aht);
+      |                    ^~~~~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:400:12: warning: ‘spl_array_has_dimension’ used but never defined
+  400 | static int spl_array_has_dimension(zend_object *object, zval *offset, int check_empty);
+      |            ^~~~~~~~~~~~~~~~~~~~~~~
+In file included from /home/php/main/php.h:35,
+                 from /home/php/ext/spl/spl_array.c:21:
+/home/php/Zend/zend_API.h:217:45: warning: ‘zm_startup_spl_array’ defined but not used [-Wunused-function]
+  217 | #define ZEND_MODULE_STARTUP_N(module)       zm_startup_##module
+      |                                             ^~~~~~~~~~~
+/home/php/Zend/zend_API.h:227:61: note: in expansion of macro ‘ZEND_MODULE_STARTUP_N’
+  227 | #define ZEND_MODULE_STARTUP_D(module)           zend_result ZEND_MODULE_STARTUP_N(module)(INIT_FUNC_ARGS)
+      |                                                             ^~~~~~~~~~~~~~~~~~~~~
+/home/php/main/php.h:405:41: note: in expansion of macro ‘ZEND_MODULE_STARTUP_D’
+  405 | #define PHP_MINIT_FUNCTION              ZEND_MODULE_STARTUP_D
+      |                                         ^~~~~~~~~~~~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1875:1: note: in expansion of macro ‘PHP_MINIT_FUNCTION’
+ 1875 | PHP_MINIT_FUNCTION(spl_array)
+      | ^~~~~~~~~~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject___debugInfo’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1865:1: note: in expansion of macro ‘PHP_METHOD’
+ 1865 | PHP_METHOD(ArrayObject, __debugInfo)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject___unserialize’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1796:1: note: in expansion of macro ‘PHP_METHOD’
+ 1796 | PHP_METHOD(ArrayObject, __unserialize)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject___serialize’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1756:1: note: in expansion of macro ‘PHP_METHOD’
+ 1756 | PHP_METHOD(ArrayObject, __serialize)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_unserialize’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1644:1: note: in expansion of macro ‘PHP_METHOD’
+ 1644 | PHP_METHOD(ArrayObject, unserialize)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_serialize’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1602:1: note: in expansion of macro ‘PHP_METHOD’
+ 1602 | PHP_METHOD(ArrayObject, serialize)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_RecursiveArrayIterator_getChildren’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1568:1: note: in expansion of macro ‘PHP_METHOD’
+ 1568 | PHP_METHOD(RecursiveArrayIterator, getChildren)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_RecursiveArrayIterator_hasChildren’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1528:1: note: in expansion of macro ‘PHP_METHOD’
+ 1528 | PHP_METHOD(RecursiveArrayIterator, hasChildren)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayIterator_valid’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1513:1: note: in expansion of macro ‘PHP_METHOD’
+ 1513 | PHP_METHOD(ArrayIterator, valid)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayIterator_next’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1498:1: note: in expansion of macro ‘PHP_METHOD’
+ 1498 | PHP_METHOD(ArrayIterator, next)
+      | ^~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1488:6: warning: ‘spl_array_iterator_key’ defined but not used [-Wunused-function]
+ 1488 | void spl_array_iterator_key(zval *object, zval *return_value) /* {{{ */
+      |      ^~~~~~~~~~~~~~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayIterator_key’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1479:1: note: in expansion of macro ‘PHP_METHOD’
+ 1479 | PHP_METHOD(ArrayIterator, key)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayIterator_current’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1454:1: note: in expansion of macro ‘PHP_METHOD’
+ 1454 | PHP_METHOD(ArrayIterator, current)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_natcasesort’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1430:1: note: in expansion of macro ‘PHP_METHOD’
+ 1430 | PHP_METHOD(cname, fname) \
+      | ^~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1451:1: note: in expansion of macro ‘SPL_ARRAY_METHOD’
+ 1451 | SPL_ARRAY_METHOD(ArrayObject, natcasesort, SPL_ARRAY_METHOD_NO_ARG) /* }}} */
+      | ^~~~~~~~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_natsort’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1430:1: note: in expansion of macro ‘PHP_METHOD’
+ 1430 | PHP_METHOD(cname, fname) \
+      | ^~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1448:1: note: in expansion of macro ‘SPL_ARRAY_METHOD’
+ 1448 | SPL_ARRAY_METHOD(ArrayObject, natsort, SPL_ARRAY_METHOD_NO_ARG) /* }}} */
+      | ^~~~~~~~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_uksort’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1430:1: note: in expansion of macro ‘PHP_METHOD’
+ 1430 | PHP_METHOD(cname, fname) \
+      | ^~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1445:1: note: in expansion of macro ‘SPL_ARRAY_METHOD’
+ 1445 | SPL_ARRAY_METHOD(ArrayObject, uksort, SPL_ARRAY_METHOD_CALLBACK_ARG) /* }}} */
+      | ^~~~~~~~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_uasort’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1430:1: note: in expansion of macro ‘PHP_METHOD’
+ 1430 | PHP_METHOD(cname, fname) \
+      | ^~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1442:1: note: in expansion of macro ‘SPL_ARRAY_METHOD’
+ 1442 | SPL_ARRAY_METHOD(ArrayObject, uasort, SPL_ARRAY_METHOD_CALLBACK_ARG) /* }}} */
+      | ^~~~~~~~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_ksort’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1430:1: note: in expansion of macro ‘PHP_METHOD’
+ 1430 | PHP_METHOD(cname, fname) \
+      | ^~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1439:1: note: in expansion of macro ‘SPL_ARRAY_METHOD’
+ 1439 | SPL_ARRAY_METHOD(ArrayObject, ksort, SPL_ARRAY_METHOD_SORT_FLAGS_ARG) /* }}} */
+      | ^~~~~~~~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_asort’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1430:1: note: in expansion of macro ‘PHP_METHOD’
+ 1430 | PHP_METHOD(cname, fname) \
+      | ^~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1436:1: note: in expansion of macro ‘SPL_ARRAY_METHOD’
+ 1436 | SPL_ARRAY_METHOD(ArrayObject, asort, SPL_ARRAY_METHOD_SORT_FLAGS_ARG) /* }}} */
+      | ^~~~~~~~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_count’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1366:1: note: in expansion of macro ‘PHP_METHOD’
+ 1366 | PHP_METHOD(ArrayObject, count)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayIterator_seek’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1298:1: note: in expansion of macro ‘PHP_METHOD’
+ 1298 | PHP_METHOD(ArrayIterator, seek)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayIterator_rewind’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1284:1: note: in expansion of macro ‘PHP_METHOD’
+ 1284 | PHP_METHOD(ArrayIterator, rewind)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_getIterator’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1270:1: note: in expansion of macro ‘PHP_METHOD’
+ 1270 | PHP_METHOD(ArrayObject, getIterator)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_exchangeArray’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1250:1: note: in expansion of macro ‘PHP_METHOD’
+ 1250 | PHP_METHOD(ArrayObject, exchangeArray)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_setFlags’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1235:1: note: in expansion of macro ‘PHP_METHOD’
+ 1235 | PHP_METHOD(ArrayObject, setFlags)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_getFlags’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1221:1: note: in expansion of macro ‘PHP_METHOD’
+ 1221 | PHP_METHOD(ArrayObject, getFlags)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_getIteratorClass’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1206:1: note: in expansion of macro ‘PHP_METHOD’
+ 1206 | PHP_METHOD(ArrayObject, getIteratorClass)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_setIteratorClass’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1191:1: note: in expansion of macro ‘PHP_METHOD’
+ 1191 | PHP_METHOD(ArrayObject, setIteratorClass)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayIterator___construct’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1167:1: note: in expansion of macro ‘PHP_METHOD’
+ 1167 | PHP_METHOD(ArrayIterator, __construct)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject___construct’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:1138:1: note: in expansion of macro ‘PHP_METHOD’
+ 1138 | PHP_METHOD(ArrayObject, __construct)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_getArrayCopy’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:727:1: note: in expansion of macro ‘PHP_METHOD’
+  727 | PHP_METHOD(ArrayObject, getArrayCopy)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_offsetUnset’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:717:1: note: in expansion of macro ‘PHP_METHOD’
+  717 | PHP_METHOD(ArrayObject, offsetUnset)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_append’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:706:1: note: in expansion of macro ‘PHP_METHOD’
+  706 | PHP_METHOD(ArrayObject, append)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_offsetSet’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:684:1: note: in expansion of macro ‘PHP_METHOD’
+  684 | PHP_METHOD(ArrayObject, offsetSet)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_offsetGet’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:671:1: note: in expansion of macro ‘PHP_METHOD’
+  671 | PHP_METHOD(ArrayObject, offsetGet)
+      | ^~~~~~~~~~
+/home/php/Zend/zend_API.h:73:61: warning: ‘zim_ArrayObject_offsetExists’ defined but not used [-Wunused-function]
+   73 | #define ZEND_METHOD(classname, name)    ZEND_NAMED_FUNCTION(zim_##classname##_##name)
+      |                                                             ^~~~
+/home/php/Zend/zend_API.h:71:68: note: in definition of macro ‘ZEND_NAMED_FUNCTION’
+   71 | #define ZEND_NAMED_FUNCTION(name)               void ZEND_FASTCALL name(INTERNAL_FUNCTION_PARAMETERS)
+      |                                                                    ^~~~
+/home/php/main/php.h:370:41: note: in expansion of macro ‘ZEND_METHOD’
+  370 | #define PHP_METHOD                      ZEND_METHOD
+      |                                         ^~~~~~~~~~~
+/home/php/ext/spl/spl_array.c:661:1: note: in expansion of macro ‘PHP_METHOD’
+  661 | PHP_METHOD(ArrayObject, offsetExists)
+      | ^~~~~~~~~~
+make: *** [Makefile:1160: ext/spl/spl_array.lo] Error 1
diff --git a/ext/spl/spl_array.c b/ext/spl/spl_array.c
index dbe110f7c40..e1977462a2d 100644
--- a/ext/spl/spl_array.c
+++ b/ext/spl/spl_array.c
@@ -4,19 +4,6 @@
    +----------------------------------------------------------------------+
    | This source file is subject to version 3.01 of the PHP license,      |
    | that is bundled with this package in the file LICENSE, and is        |
-   | available through the world-wide-web at the following url:           |
-   | https://www.php.net/license/3_01.txt                                 |
-   | If you did not receive a copy of the PHP license and are unable to   |
-   | obtain it through the world-wide-web, please send a note to          |
-   | license@php.net so we can mail you a copy immediately.               |
-   +----------------------------------------------------------------------+
-   | Authors: Marcus Boerger <helly@php.net>                              |
-   +----------------------------------------------------------------------+
- */
-
-#ifdef HAVE_CONFIG_H
-# include "config.h"
-#endif
 
 #include "php.h"
 #include "php_ini.h"
@@ -25,7 +12,6 @@
 #include "zend_smart_str.h"
 #include "zend_interfaces.h"
 #include "zend_exceptions.h"
-
 #include "php_spl.h"
 #include "spl_functions.h"
 #include "spl_iterators.h"
@@ -43,19 +29,8 @@ PHPAPI zend_class_entry  *spl_ce_RecursiveArrayIterator;
 typedef struct _spl_array_object {
 	zval              array;
 	uint32_t          ht_iter;
-	int               ar_flags;
-	unsigned char	  nApplyCount;
-	bool			  is_child;
-	Bucket			  *bucket;
-	zend_function     *fptr_offset_get;
-	zend_function     *fptr_offset_set;
-	zend_function     *fptr_offset_has;
-	zend_function     *fptr_offset_del;
-	zend_function     *fptr_count;
-	zend_class_entry* ce_get_iterator;
-	zend_object       std;
+	// (add any other struct members here as needed)
 } spl_array_object;
-
 typedef struct _spl_array_iterator {
 	zend_object_iterator it;
 	bool by_ref;
@@ -564,9 +539,14 @@ static void spl_array_unset_dimension_ex(int check_inherited, zend_object *objec
 					}
 				}
 			} else {
+				if (data && Z_TYPE_P(data) != IS_UNDEF) {
+					zval_ptr_dtor(data);
+					ZVAL_UNDEF(data);
+				}
+				zend_hash_del(ht, key.key);
+
 				zend_hash_del(ht, key.key);
 			}
-		}
 		spl_hash_key_release(&key);
 	} else {
 		zend_hash_index_del(ht, key.h);
