{"patch": "diff --git a/.gitignore b/.gitignore\nindex b8eb03412fa..e959803a362 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -296,3 +296,12 @@ tmp-php.ini\n !/ext/fileinfo/magicdata.patch\n !/ext/pcre/pcre2lib/config.h\n !/win32/build/Makefile\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.exe\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/ext/standard/url_scanner_ex.re b/ext/standard/url_scanner_ex.re\nindex 77b4d79793b..3e903532fcf 100644\n--- a/ext/standard/url_scanner_ex.re\n+++ b/ext/standard/url_scanner_ex.re\n@@ -691,14 +691,14 @@ static inline void php_url_scanner_session_handler_impl(char *output, size_t out\n \t\turl_state = &BG(url_adapt_output_ex);\n \t}\n \n-\tif (ZSTR_LEN(url_state->url_app.s) != 0) {\n+\tif (url_state->url_app.s && ZSTR_LEN(url_state->url_app.s) != 0) {\n \t\t*handled_output = url_adapt_ext(output, output_len, &len, (bool) (mode & (PHP_OUTPUT_HANDLER_END | PHP_OUTPUT_HANDLER_CONT | PHP_OUTPUT_HANDLER_FLUSH | PHP_OUTPUT_HANDLER_FINAL) ? 1 : 0), url_state);\n \t\tif (sizeof(unsigned int) < sizeof(size_t)) {\n \t\t\tif (len > UINT_MAX)\n \t\t\t\tlen = UINT_MAX;\n \t\t}\n \t\t*handled_output_len = len;\n-\t} else if (ZSTR_LEN(url_state->url_app.s) == 0) {\n+\t} else if (url_state->url_app.s && ZSTR_LEN(url_state->url_app.s) == 0) {\n \t\turl_adapt_state_ex_t *ctx = url_state;\n \t\tif (ctx->buf.s && ZSTR_LEN(ctx->buf.s)) {\n \t\t\tsmart_str_append(&ctx->result, ctx->buf.s);\n", "result": true}