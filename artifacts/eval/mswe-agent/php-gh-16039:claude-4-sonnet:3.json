[{"patch": "diff --git a/.gitignore b/.gitignore\nindex b8eb03412fa..e959803a362 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -296,3 +296,12 @@ tmp-php.ini\n !/ext/fileinfo/magicdata.patch\n !/ext/pcre/pcre2lib/config.h\n !/win32/build/Makefile\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.exe\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/ext/dom/parentnode.c b/ext/dom/parentnode.c\nindex c30db6fcd74..796ef6bf1a5 100644\n--- a/ext/dom/parentnode.c\n+++ b/ext/dom/parentnode.c\n@@ -186,6 +186,10 @@ xmlNode* dom_zvals_to_fragment(php_libxml_ref_obj *document, xmlNode *contextNod\n \t\tif (Z_TYPE(nodes[i]) == IS_OBJECT) {\n \t\t\tnewNodeObj = Z_DOMOBJ_P(&nodes[i]);\n \t\t\tnewNode = dom_object_get_node(newNodeObj);\n+\t\t\t\n+\t\t\tif (newNode == NULL) {\n+\t\t\t\tgoto err;\n+\t\t\t}\n \n \t\t\tif (newNode->parent != NULL) {\n \t\t\t\txmlUnlinkNode(newNode);\n@@ -271,6 +275,11 @@ static zend_result dom_sanity_check_node_list_for_insertion(php_libxml_ref_obj *\n \n \t\t\tif (instanceof_function(ce, dom_node_class_entry)) {\n \t\t\t\txmlNodePtr node = dom_object_get_node(Z_DOMOBJ_P(nodes + i));\n+\t\t\t\t\n+\t\t\t\tif (node == NULL) {\n+\t\t\t\t\tphp_dom_throw_error(HIERARCHY_REQUEST_ERR, dom_get_strict_error(document));\n+\t\t\t\t\treturn FAILURE;\n+\t\t\t\t}\n \n \t\t\t\tif (node->doc != documentNode) {\n \t\t\t\t\tphp_dom_throw_error(WRONG_DOCUMENT_ERR, dom_get_strict_error(document));\n"}]