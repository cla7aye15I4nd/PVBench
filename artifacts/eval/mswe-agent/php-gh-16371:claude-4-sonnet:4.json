[{"patch": "diff --git a/.gitignore b/.gitignore\nindex b8eb03412fa..e959803a362 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -296,3 +296,12 @@ tmp-php.ini\n !/ext/fileinfo/magicdata.patch\n !/ext/pcre/pcre2lib/config.h\n !/win32/build/Makefile\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.exe\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/Zend/zend_types.h b/Zend/zend_types.h\nindex e6505d8b62a..6eeb19f3883 100644\n--- a/Zend/zend_types.h\n+++ b/Zend/zend_types.h\n@@ -535,8 +535,8 @@ typedef union {\n #define ZEND_PROPERTY_INFO_SOURCE_IS_LIST(list) ((list) & 0x1)\n \n struct _zend_reference {\n-\tzend_refcounted_h              gc;\n-\tzval                           val;\n+\tzend_refcounted_h gc;\n+\tzval              val;\n \tzend_property_info_source_list sources;\n };\n \ndiff --git a/Zend/zend_weakrefs.c b/Zend/zend_weakrefs.c\nindex 3f2e517f3fe..63b0a4bc9e4 100644\n--- a/Zend/zend_weakrefs.c\n+++ b/Zend/zend_weakrefs.c\n@@ -534,7 +534,12 @@ static void zend_weakmap_iterator_get_current_key(zend_object_iterator *obj_iter\n \t\tZEND_ASSERT(0 && \"Must have integer key\");\n \t}\n \n-\tZVAL_OBJ_COPY(key, zend_weakref_key_to_object(num_key));\n+\tzend_object *obj = zend_weakref_key_to_object(num_key);\n+\tif (obj) {\n+\t\tZVAL_OBJ_COPY(key, obj);\n+\t} else {\n+\t\tZVAL_NULL(key);\n+\t}\n }\n \n static void zend_weakmap_iterator_move_forward(zend_object_iterator *obj_iter)\n"}]