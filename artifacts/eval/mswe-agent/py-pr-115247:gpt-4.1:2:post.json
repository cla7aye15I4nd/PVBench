{"patch": "diff --git a/.gitignore b/.gitignore\nindex 6ed7197e3ab..0c0663b8668 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -161,3 +161,9 @@ Python/frozen_modules/MANIFEST\n \n # main branch only: ABI files are not checked/maintained.\n Doc/data/python*.abi\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\ndiff --git a/Modules/_collectionsmodule.c b/Modules/_collectionsmodule.c\nindex ef77d34b10e..4bdfdbeaf1e 100644\n--- a/Modules/_collectionsmodule.c\n+++ b/Modules/_collectionsmodule.c\n@@ -1215,20 +1215,23 @@ deque_index_impl(dequeobject *deque, PyObject *v, Py_ssize_t start,\n         }\n     }\n \n+    n = stop - i;\n     n = stop - i;\n     while (--n >= 0) {\n         CHECK_NOT_END(b);\n         item = b->data[index];\n+        Py_INCREF(item);\n         cmp = PyObject_RichCompareBool(item, v, Py_EQ);\n-        if (cmp > 0)\n-            return PyLong_FromSsize_t(stop - n - 1);\n-        if (cmp < 0)\n-            return NULL;\n+        Py_DECREF(item);\n         if (start_state != deque->state) {\n             PyErr_SetString(PyExc_RuntimeError,\n                             \"deque mutated during iteration\");\n             return NULL;\n         }\n+        if (cmp > 0)\n+            return PyLong_FromSsize_t(stop - n - 1);\n+        if (cmp < 0)\n+            return NULL;\n         index++;\n         if (index == BLOCKLEN) {\n             b = b->rightlink;\n", "result": true}