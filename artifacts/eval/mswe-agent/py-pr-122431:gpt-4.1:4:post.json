{"patch": "diff --git a/.gitignore b/.gitignore\nindex 8872e9d5508..959a12bbd57 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -171,3 +171,9 @@ Python/frozen_modules/MANIFEST\n \n # main branch only: ABI files are not checked/maintained.\n Doc/data/python*.abi\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\ndiff --git a/Modules/readline.c b/Modules/readline.c\nindex 35655c70a46..3f67f336bb5 100644\n--- a/Modules/readline.c\n+++ b/Modules/readline.c\n@@ -354,6 +354,10 @@ readline_append_history_file_impl(PyObject *module, int nelements,\n     PyObject *filename_bytes;\n     const char *filename;\n     int err;\n+    if (nelements < 0 || nelements > INT_MAX/2) {\n+        PyErr_SetString(PyExc_ValueError, \"nelements out of valid range\");\n+        return NULL;\n+    }\n     if (filename_obj != Py_None) {\n         if (!PyUnicode_FSConverter(filename_obj, &filename_bytes))\n             return NULL;\n", "result": true}