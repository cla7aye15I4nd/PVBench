[{"patch": "diff --git a/.gitignore b/.gitignore\nindex 8872e9d5508..959a12bbd57 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -171,3 +171,9 @@ Python/frozen_modules/MANIFEST\n \n # main branch only: ABI files are not checked/maintained.\n Doc/data/python*.abi\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\ndiff --git a/Objects/frameobject.c b/Objects/frameobject.c\nindex 9f1c031dcb9..36b9ddf436f 100644\n--- a/Objects/frameobject.c\n+++ b/Objects/frameobject.c\n@@ -308,6 +308,7 @@ framelocalsproxy_dealloc(PyObject *self)\n }\n \n static PyObject *\n+\n framelocalsproxy_new(PyTypeObject *type, PyObject *args, PyObject *kwds)\n {\n     PyFrameLocalsProxyObject *self = (PyFrameLocalsProxyObject *)type->tp_alloc(type, 0);\n@@ -315,10 +316,22 @@ framelocalsproxy_new(PyTypeObject *type, PyObject *args, PyObject *kwds)\n         return NULL;\n     }\n \n-    PyFrameObject *frame = (PyFrameObject*)PyTuple_GET_ITEM(args, 0);\n-    assert(PyFrame_Check(frame));\n+    // Check that args is a tuple with at least one item\n+    if (!PyTuple_Check(args) || PyTuple_Size(args) < 1) {\n+        Py_DECREF(self);\n+        PyErr_SetString(PyExc_TypeError, \"framelocalsproxy_new: args must be a tuple with at least one item\");\n+        return NULL;\n+    }\n+\n+    PyObject *frame_obj = PyTuple_GET_ITEM(args, 0);\n+    if (!PyFrame_Check(frame_obj)) {\n+        Py_DECREF(self);\n+        PyErr_SetString(PyExc_TypeError, \"framelocalsproxy_new: first argument must be a frame object\");\n+        return NULL;\n+    }\n \n-    ((PyFrameLocalsProxyObject*)self)->frame = (PyFrameObject*)Py_NewRef(frame);\n+    PyFrameObject *frame = (PyFrameObject *)frame_obj;\n+    self->frame = (PyFrameObject *)Py_NewRef(frame);\n \n     return (PyObject *)self;\n }\n"}]