[{"patch": "diff --git a/.gitignore b/.gitignore\nindex 307814a276a..3127999a700 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -170,3 +170,9 @@ Python/frozen_modules/MANIFEST\n /python\n !/Python/\n \n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\ndiff --git a/Modules/_ctypes/stgdict.c b/Modules/_ctypes/stgdict.c\nindex ad82e4891c5..bca28436571 100644\n--- a/Modules/_ctypes/stgdict.c\n+++ b/Modules/_ctypes/stgdict.c\n@@ -363,7 +363,7 @@ PyCStructUnionType_update_stginfo(PyObject *type, PyObject *fields, int isStruct\n         align = baseinfo->align;\n         union_size = 0;\n         total_align = align ? align : 1;\n-        total_align = max(total_align, forced_alignment);\n+        total_align = max(total_align, forced_alignment ? forced_alignment : 1);\n         stginfo->ffi_type_pointer.type = FFI_TYPE_STRUCT;\n         stginfo->ffi_type_pointer.elements = PyMem_New(ffi_type *, baseinfo->length + len + 1);\n         if (stginfo->ffi_type_pointer.elements == NULL) {\n@@ -383,7 +383,7 @@ PyCStructUnionType_update_stginfo(PyObject *type, PyObject *fields, int isStruct\n         size = 0;\n         align = 0;\n         union_size = 0;\n-        total_align = forced_alignment;\n+        total_align = forced_alignment ? forced_alignment : 1;\n         stginfo->ffi_type_pointer.type = FFI_TYPE_STRUCT;\n         stginfo->ffi_type_pointer.elements = PyMem_New(ffi_type *, len + 1);\n         if (stginfo->ffi_type_pointer.elements == NULL) {\n"}]