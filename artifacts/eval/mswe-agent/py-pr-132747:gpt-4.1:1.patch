
diff --git a/.gitignore b/.gitignore
index 596e0f3af6a..8d4234061fa 100644
--- a/.gitignore
+++ b/.gitignore
@@ -172,3 +172,9 @@ Python/frozen_modules/MANIFEST
 
 # main branch only: ABI files are not checked/maintained.
 Doc/data/python*.abi
+build/
+Build/
+bin/
+lib/
+*.out
+*.obj
diff --git a/Objects/descrobject.c b/Objects/descrobject.c
index 268af0b217c..e0aab572ad3 100644
--- a/Objects/descrobject.c
+++ b/Objects/descrobject.c
@@ -145,6 +145,11 @@ method_get(PyObject *self, PyObject *obj, PyObject *type)
         return NULL;
     }
     if (descr->d_method->ml_flags & METH_METHOD) {
+        if (type == NULL) {
+            PyErr_SetString(PyExc_TypeError,
+                            "descriptor 'method' needs a type as arg 2, got NULL");
+            return NULL;
+        }
         if (PyType_Check(type)) {
             return PyCMethod_New(descr->d_method, obj, NULL, descr->d_common.d_type);
         } else {
@@ -158,7 +163,6 @@ method_get(PyObject *self, PyObject *obj, PyObject *type)
         return PyCFunction_NewEx(descr->d_method, obj, NULL);
     }
 }
-
 static PyObject *
 member_get(PyObject *self, PyObject *obj, PyObject *type)
 {
@@ -210,6 +214,12 @@ wrapperdescr_get(PyObject *self, PyObject *obj, PyObject *type)
     if (descr_check((PyDescrObject *)descr, obj) < 0) {
         return NULL;
     }
+    if (obj == NULL) {
+        return Py_NewRef(descr);
+    }
+    if (descr_check((PyDescrObject *)descr, obj) < 0) {
+        return NULL;
+    }
     return PyWrapper_New((PyObject *)descr, obj);
 }
 
