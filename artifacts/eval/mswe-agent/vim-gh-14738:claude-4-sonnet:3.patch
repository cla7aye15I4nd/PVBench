
diff --git a/.gitignore b/.gitignore
index 241e96eaf..6bdb4f440 100644
--- a/.gitignore
+++ b/.gitignore
@@ -117,3 +117,11 @@ src/cscope.out
 /.cache/clangd/
 /.ccls-cache/
 /compile_commands.json
+build/
+Build/
+bin/
+lib/
+*.out
+*.dll
+*.so
+*.dylib
diff --git a/src/xxd/xxd.c b/src/xxd/xxd.c
index cf8b4ea6a..8efbc39e9 100644
--- a/src/xxd/xxd.c
+++ b/src/xxd/xxd.c
@@ -227,7 +227,8 @@ char osver[] = "";
 	     1 +                                     /* space */       \
 	     (1 + 11) * COLS +                       /* 2nd group */   \
 	     1 +                                     /* new line */    \
-	     1)                                      /* zero */
+	     1 +                                     /* zero */        \
+	     COLS * 20)                              /* extra buffer for color sequences */
 
 char hexxa[] = "0123456789abcdef0123456789ABCDEF", *hexx = hexxa;
 
