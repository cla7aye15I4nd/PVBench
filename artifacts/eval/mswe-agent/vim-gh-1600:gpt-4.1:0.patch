
diff --git a/.gitignore b/.gitignore
index 07adcb61a..0ff76b4d5 100644
--- a/.gitignore
+++ b/.gitignore
@@ -83,3 +83,11 @@ src/memfile_test
 src/json_test
 src/message_test
 src/kword_test
+build/
+Build/
+bin/
+lib/
+*.out
+*.dll
+*.so
+*.dylib
diff --git a/src/edit.c b/src/edit.c
index cdde11e40..8aae7cc65 100644
--- a/src/edit.c
+++ b/src/edit.c
@@ -4954,7 +4954,7 @@ ins_compl_next(
 	    i = 0;
 	else
 	    STRCAT(IObuff, "<");
-	STRCAT(IObuff, compl_shown_match->cp_fname + i);
+	STRNCAT(IObuff, compl_shown_match->cp_fname + i, IOSIZE - strlen(IObuff) - 1);
 	msg(IObuff);
 	redraw_cmdline = FALSE;	    /* don't overwrite! */
     }
