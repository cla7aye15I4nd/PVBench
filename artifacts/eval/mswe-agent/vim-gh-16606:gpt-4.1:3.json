[{"patch": "diff --git a/.gitignore b/.gitignore\nindex 0d38d901d..9f2f930da 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -121,3 +121,11 @@ src/cscope.out\n /.cache/clangd/\n /.ccls-cache/\n /compile_commands.json\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/src/message.c b/src/message.c\nindex 24984123b..e5d232edc 100644\n--- a/src/message.c\n+++ b/src/message.c\n@@ -518,7 +518,7 @@ get_emsg_lnum(void)\n \n     // lnum is 0 when executing a command from the command line\n     // argument, we don't want a line number then\n-    if (SOURCING_NAME != NULL\n+    if (HAVE_SOURCING_INFO\n \t    && (other_sourcing_name() || SOURCING_LNUM != last_sourcing_lnum)\n \t    && SOURCING_LNUM != 0)\n     {\n@@ -564,12 +564,13 @@ msg_source(int attr)\n     }\n \n     // remember the last sourcing name printed, also when it's empty\n-    if (SOURCING_NAME == NULL || other_sourcing_name())\n+    if (!HAVE_SOURCING_INFO || other_sourcing_name())\n     {\n \tVIM_CLEAR(last_sourcing_name);\n-\tif (SOURCING_NAME != NULL)\n+\tif (HAVE_SOURCING_INFO)\n \t    last_sourcing_name = vim_strsave(SOURCING_NAME);\n     }\n+\n     --no_wait_return;\n \n     recursive = FALSE;\n@@ -696,7 +697,7 @@ emsg_core(const char *s)\n \t    emsg_assert_fails_lnum = SOURCING_LNUM;\n \t    vim_free(emsg_assert_fails_context);\n \t    emsg_assert_fails_context = vim_strsave(\n-\t\t\t SOURCING_NAME == NULL ? (char_u *)\"\" : SOURCING_NAME);\n+\t\t\t    HAVE_SOURCING_INFO ? SOURCING_NAME : (char_u *)\"\");\n \t}\n \n \t// set \"v:errmsg\", also when using \":silent! cmd\"\n@@ -2803,7 +2804,7 @@ inc_msg_scrolled(void)\n #ifdef FEAT_EVAL\n     if (*get_vim_var_str(VV_SCROLLSTART) == NUL)\n     {\n-\tchar_u\t    *p = SOURCING_NAME;\n+\tchar_u\t    *p = HAVE_SOURCING_INFO ? SOURCING_NAME : NULL;\n \tchar_u\t    *tofree = NULL;\n \tint\t    len;\n \n"}]