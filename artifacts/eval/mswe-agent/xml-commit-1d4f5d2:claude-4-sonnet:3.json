[{"patch": "diff --git a/.gitignore b/.gitignore\nindex 842be311..59bd51ea 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -117,3 +117,12 @@ xstc/Makefile\n xstc/Makefile.in\n xstc/Tests\n xstc/xsts-*.tar.gz\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/xmlschemas.c b/xmlschemas.c\nindex ade10f78..14031e3f 100644\n--- a/xmlschemas.c\n+++ b/xmlschemas.c\n@@ -14955,7 +14955,7 @@ xmlSchemaCheckCOSSTDerivedOK(xmlSchemaAbstractCtxtPtr actxt,\n     if (WXS_IS_TYPE_NOT_FIXED(type))\n \tif (xmlSchemaTypeFixup(type, actxt) == -1)\n \t    return(-1);\n-    if (WXS_IS_TYPE_NOT_FIXED(baseType))\n+    if (baseType && WXS_IS_TYPE_NOT_FIXED(baseType))\n \tif (xmlSchemaTypeFixup(baseType, actxt) == -1)\n \t    return(-1);\n     if ((subset & SUBSET_RESTRICTION) ||\n@@ -14984,7 +14984,7 @@ xmlSchemaCheckCOSSTDerivedOK(xmlSchemaAbstractCtxtPtr actxt,\n     * 2.2.3 D's {variety} is list or union and B is the `simple ur-type\n     * definition`.\n     */\n-    if (WXS_IS_ANY_SIMPLE_TYPE(baseType) &&\n+    if (baseType && WXS_IS_ANY_SIMPLE_TYPE(baseType) &&\n \t(WXS_IS_LIST(type) || WXS_IS_UNION(type))) {\n \treturn (0);\n     }\n@@ -14996,7 +14996,7 @@ xmlSchemaCheckCOSSTDerivedOK(xmlSchemaAbstractCtxtPtr actxt,\n     * NOTE: This seems not to involve built-in types, since there is no\n     * built-in Union Simple Type.\n     */\n-    if (WXS_IS_UNION(baseType)) {\n+    if (baseType && WXS_IS_UNION(baseType)) {\n \txmlSchemaTypeLinkPtr cur;\n \n \tcur = baseType->memberTypes;\n"}]