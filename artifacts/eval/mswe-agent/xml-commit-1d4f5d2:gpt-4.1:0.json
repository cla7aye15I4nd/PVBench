[{"patch": "diff --git a/.gitignore b/.gitignore\nindex 842be311..59bd51ea 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -117,3 +117,12 @@ xstc/Makefile\n xstc/Makefile.in\n xstc/Tests\n xstc/xsts-*.tar.gz\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/xmlschemas.c b/xmlschemas.c\nindex ade10f78..2a8087bf 100644\n--- a/xmlschemas.c\n+++ b/xmlschemas.c\n@@ -14937,6 +14937,9 @@ xmlSchemaCheckCOSSTDerivedOK(xmlSchemaAbstractCtxtPtr actxt,\n \t\t\t     xmlSchemaTypePtr baseType,\n \t\t\t     int subset)\n {\n+    if (type == NULL || baseType == NULL)\n+        return(-1);\n+\n     /*\n     * 1 They are the same type definition.\n     * TODO: The identity check might have to be more complex than this.\n"}]