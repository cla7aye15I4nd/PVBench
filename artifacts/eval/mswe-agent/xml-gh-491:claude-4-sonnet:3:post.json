{"patch": "diff --git a/.gitignore b/.gitignore\nindex 6f5dc0b4..07196a6f 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -116,3 +116,12 @@ xstc/Makefile\n xstc/Makefile.in\n xstc/Tests\n xstc/xsts-*.tar.gz\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/xmlschemas.c b/xmlschemas.c\nindex 6a353858..882591f3 100644\n--- a/xmlschemas.c\n+++ b/xmlschemas.c\n@@ -18660,14 +18660,21 @@ xmlSchemaFixupComplexType(xmlSchemaParserCtxtPtr pctxt,\n \t\t    particle->children->children =\n \t\t\t(xmlSchemaTreeItemPtr) xmlSchemaAddParticle(pctxt,\n \t\t\ttype->node,\n-\t\t\t((xmlSchemaParticlePtr) baseType->subtypes)->minOccurs,\n-\t\t\t((xmlSchemaParticlePtr) baseType->subtypes)->maxOccurs);\n+\t\t\t((xmlSchemaParticlePtr) baseType->subtypes) != NULL ? \n+\t\t\t    ((xmlSchemaParticlePtr) baseType->subtypes)->minOccurs : 1,\n+\t\t\t((xmlSchemaParticlePtr) baseType->subtypes) != NULL ?\n+\t\t\t    ((xmlSchemaParticlePtr) baseType->subtypes)->maxOccurs : 1);\n \t\t    if (particle->children->children == NULL)\n \t\t\tgoto exit_failure;\n \t\t    particle = (xmlSchemaParticlePtr)\n \t\t\tparticle->children->children;\n-\t\t    particle->children =\n-\t\t\t((xmlSchemaParticlePtr) baseType->subtypes)->children;\n+\n+\t\t    if (baseType->subtypes != NULL) {\n+\t\t\tparticle->children =\n+\t\t\t    ((xmlSchemaParticlePtr) baseType->subtypes)->children;\n+\t\t    } else {\n+\t\t\tparticle->children = NULL;\n+\t\t    }\n \t\t    /*\n \t\t    * SPEC \"followed by the `effective content`.\"\n \t\t    */\n@@ -18692,8 +18699,12 @@ xmlSchemaFixupComplexType(xmlSchemaParserCtxtPtr pctxt,\n \t\t    * neither the regex compilation of the content model,\n \t\t    * nor to the complex type constraints.\n \t\t    */\n-\t\t    particle->children->children =\n-\t\t\t(xmlSchemaTreeItemPtr) baseType->subtypes;\n+\t\t    if (baseType->subtypes != NULL) {\n+\t\t\tparticle->children->children =\n+\t\t\t    (xmlSchemaTreeItemPtr) baseType->subtypes;\n+\t\t    } else {\n+\t\t\tparticle->children->children = NULL;\n+\t\t    }\n \t\t}\n \t    }\n \t}\n", "result": true}