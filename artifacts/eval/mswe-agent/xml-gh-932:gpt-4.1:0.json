[{"patch": "diff --git a/.gitignore b/.gitignore\nindex 1ec7961f..87231784 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -64,3 +64,12 @@ Makefile.in\n /m4/lt*.m4\n /py-compile\n /stamp-h1\n+build/\n+Build/\n+bin/\n+lib/\n+*.out\n+*.obj\n+*.dll\n+*.so\n+*.dylib\ndiff --git a/schematron.c b/schematron.c\nindex 5c1a27bf..b0885eec 100644\n--- a/schematron.c\n+++ b/schematron.c\n@@ -1453,7 +1453,14 @@ xmlSchematronFormatReport(xmlSchematronValidCtxtPtr ctxt,\n             select = xmlGetNoNsProp(child, BAD_CAST \"select\");\n             comp = xmlXPathCtxtCompile(ctxt->xctxt, select);\n             eval = xmlXPathCompiledEval(comp, ctxt->xctxt);\n-\n+            if (eval == NULL) {\n+                xmlSchematronVErr(ctxt, XML_ERR_INTERNAL_ERROR,\n+                                  \"Failed to evaluate XPath expression\\n\", NULL);\n+                xmlXPathFreeCompExpr(comp);\n+                xmlFree(select);\n+                child = child->next;\n+                continue;\n+            }\n             switch (eval->type) {\n             case XPATH_NODESET: {\n                 int indx;\n"}]