
diff --git a/.gitignore b/.gitignore
index 1ec7961f..87231784 100644
--- a/.gitignore
+++ b/.gitignore
@@ -64,3 +64,12 @@ Makefile.in
 /m4/lt*.m4
 /py-compile
 /stamp-h1
+build/
+Build/
+bin/
+lib/
+*.out
+*.obj
+*.dll
+*.so
+*.dylib
diff --git a/shell.c b/shell.c
index 8ecc05b9..1f4960dd 100644
--- a/shell.c
+++ b/shell.c
@@ -1142,7 +1142,7 @@ xmllintShell(xmlDoc *doc, const char *filename, FILE * output)
         while ((*cur == ' ') || (*cur == '\t'))
             cur++;
         i = 0;
-        while ((*cur != '\n') && (*cur != '\r') && (*cur != 0)) {
+        while ((*cur != '\n') && (*cur != '\r') && (*cur != 0) && (i < sizeof(arg) - 1)) {
             if (*cur == 0)
                 break;
             arg[i++] = *cur++;
