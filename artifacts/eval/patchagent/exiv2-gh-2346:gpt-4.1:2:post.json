{"patch": "diff --git a/src/quicktimevideo.cpp b/src/quicktimevideo.cpp\nindex 1c54b01b9..edd971ea0 100644\n--- a/src/quicktimevideo.cpp\n+++ b/src/quicktimevideo.cpp\n@@ -567,8 +567,12 @@ void QuickTimeVideo::decodeBlock(std::string const& entered_from) {\n   enforce(size - hdrsize <= io_->size() - io_->tell(), Exiv2::ErrorCode::kerCorruptedMetadata);\n   enforce(size - hdrsize <= std::numeric_limits<size_t>::max(), Exiv2::ErrorCode::kerCorruptedMetadata);\n \n-  // std::cerr<<\"Tag=>\"<<buf.data()<<\"     size=>\"<<size-hdrsize << std::endl;\n-  tagDecoder(buf, static_cast<size_t>(size - hdrsize));\n+    // std::cerr<<\"Tag=>\"<<buf.data()<<\"     size=>\"<<size-hdrsize << std::endl;\n+    size_t datasize = static_cast<size_t>(size - hdrsize);\n+    if (buf.size() < datasize) {\n+        buf.resize(datasize);\n+    }\n+    tagDecoder(buf, datasize);\n }  // QuickTimeVideo::decodeBlock\n \n void QuickTimeVideo::tagDecoder(Exiv2::DataBuf& buf, size_t size) {\n", "result": true}