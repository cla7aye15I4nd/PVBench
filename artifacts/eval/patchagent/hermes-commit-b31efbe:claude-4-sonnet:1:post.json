{"patch": "diff --git a/lib/AST/ES6Class.cpp b/lib/AST/ES6Class.cpp\nindex 42155e587..7b41dbc8c 100644\n--- a/lib/AST/ES6Class.cpp\n+++ b/lib/AST/ES6Class.cpp\n@@ -223,10 +223,18 @@ class ES6ClassesTransformations {\n   }\n \n   bool incRecursionDepth(ESTree::Node *) {\n+    if (recursionDepth_ >= 100) {\n+      return false;\n+    }\n+    ++recursionDepth_;\n     return true;\n   }\n \n-  void decRecursionDepth() {}\n+  void decRecursionDepth() {\n+    if (recursionDepth_ > 0) {\n+      --recursionDepth_;\n+    }\n+  }\n \n  private:\n   Context &context_;\n@@ -234,6 +242,7 @@ class ES6ClassesTransformations {\n   VisitedClass *_currentProcessingClass = nullptr;\n   const ResolvedClassMember *_currentClassMember = nullptr;\n \n+  unsigned recursionDepth_ = 0;\n   ESTree::VisitResult doVisitChildren(ESTree::Node *node) {\n     visitESTreeChildren(*this, node);\n     return ESTree::Unmodified;\n", "result": true}