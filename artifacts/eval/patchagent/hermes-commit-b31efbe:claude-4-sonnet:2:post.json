{"patch": "diff --git a/lib/AST/ES6Class.cpp b/lib/AST/ES6Class.cpp\nindex 42155e587..797e9fd88 100644\n--- a/lib/AST/ES6Class.cpp\n+++ b/lib/AST/ES6Class.cpp\n@@ -137,7 +137,10 @@ namespace hermes {\n class ES6ClassesTransformations {\n  public:\n   ES6ClassesTransformations(Context &context)\n-      : context_(context),\n+      : recursionDepth_(0),\n+        maxRecursionDepth_(500),\n+        recursionLimitExceeded_(false),\n+        context_(context),\n         identVar_(context.getIdentifier(\"var\").getUnderlyingPointer()) {}\n \n   ESTree::VisitResult visit(ESTree::ClassDeclarationNode *classDecl) {\n@@ -223,12 +226,31 @@ class ES6ClassesTransformations {\n   }\n \n   bool incRecursionDepth(ESTree::Node *) {\n+    if (recursionLimitExceeded_) {\n+      return false;\n+    }\n+    if (recursionDepth_ >= maxRecursionDepth_) {\n+      recursionLimitExceeded_ = true;\n+      context_.getSourceErrorManager().error(\n+          llvh::SMLoc{},\n+          llvh::SMRange{},\n+          \"Maximum recursion depth exceeded during ES6 class transformation\");\n+      return false;\n+    }\n+    ++recursionDepth_;\n     return true;\n   }\n \n-  void decRecursionDepth() {}\n+  void decRecursionDepth() {\n+    if (recursionDepth_ > 0) {\n+      --recursionDepth_;\n+    }\n+  }\n \n  private:\n+  unsigned recursionDepth_;\n+  unsigned maxRecursionDepth_;\n+  bool recursionLimitExceeded_;\n   Context &context_;\n   UniqueString *const identVar_;\n   VisitedClass *_currentProcessingClass = nullptr;\n", "result": true}