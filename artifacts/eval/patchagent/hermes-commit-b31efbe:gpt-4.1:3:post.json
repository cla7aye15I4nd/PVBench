{"patch": "diff --git a/lib/AST/ES6Class.cpp b/lib/AST/ES6Class.cpp\nindex 42155e587..eb9d134f0 100644\n--- a/lib/AST/ES6Class.cpp\n+++ b/lib/AST/ES6Class.cpp\n@@ -222,11 +222,20 @@ class ES6ClassesTransformations {\n     visitESTreeChildren(*this, node);\n   }\n \n-  bool incRecursionDepth(ESTree::Node *) {\n-    return true;\n-  }\n-\n-  void decRecursionDepth() {}\n+   static constexpr int MAX_RECURSION_DEPTH = 512;\n+   int recursionDepth_ = 0;\n+\n+   bool incRecursionDepth(ESTree::Node *) {\n+     if (recursionDepth_ >= MAX_RECURSION_DEPTH) {\n+       return false;\n+     }\n+     ++recursionDepth_;\n+     return true;\n+   }\n+\n+   void decRecursionDepth() {\n+     --recursionDepth_;\n+   }\n \n  private:\n   Context &context_;\n", "result": true}