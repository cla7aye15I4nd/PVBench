{"patch": "diff --git a/lib/VM/Operations.cpp b/lib/VM/Operations.cpp\nindex 60820798a..6ad1b8f3e 100644\n--- a/lib/VM/Operations.cpp\n+++ b/lib/VM/Operations.cpp\n@@ -1364,6 +1364,12 @@ bool isConstructor(Runtime *runtime, Callable *callable) {\n     callable = b->getTarget(runtime);\n   }\n \n+  // We traverse the JSCallableProxy target chain to find the eventual target.\n+  while (JSCallableProxy *cproxy = dyn_vmcast<JSCallableProxy>(callable)) {\n+    callable = vmcast_or_null<Callable>(JSProxy::getTarget(cproxy, runtime).get());\n+    if (!callable) return false;\n+  }\n+\n   // If it is a bytecode function, check the flags.\n   if (auto *func = dyn_vmcast<JSFunction>(callable)) {\n     auto *cb = func->getCodeBlock();\n@@ -1379,12 +1385,6 @@ bool isConstructor(Runtime *runtime, Callable *callable) {\n     return true;\n   }\n \n-  // JSCallableProxy is a NativeFunction, but may or may not be a\n-  // constructor, so we ask it.\n-  if (auto *cproxy = dyn_vmcast<JSCallableProxy>(callable)) {\n-    return cproxy->isConstructor(runtime);\n-  }\n-\n   return false;\n }\n \n", "result": true}