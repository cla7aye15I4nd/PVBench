{"patch": "diff --git a/hts.c b/hts.c\nindex 923eaaf0..70319e0a 100644\n--- a/hts.c\n+++ b/hts.c\n@@ -4452,8 +4452,12 @@ int hts_itr_multi_next(htsFile *fd, hts_itr_t *iter, void *r)\n                                 if ((max>>32) != tid)\n                                     tid = HTS_IDX_START; // => no range limit\n \n-                                if (end < rl->intervals[max & 0xffffffff].end)\n-                                    end = rl->intervals[max & 0xffffffff].end;\n+                                uint32_t intv_idx = max & 0xffffffff;\n+                                if (intv_idx < rl->count) {\n+                                    if (end < rl->intervals[intv_idx].end)\n+                                        end = rl->intervals[intv_idx].end;\n+                                }\n+\n                                 if (v < iter->off[j].v)\n                                     v = iter->off[j].v;\n                                 j++;\n", "result": true}