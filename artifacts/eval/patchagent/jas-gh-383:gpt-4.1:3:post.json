{"patch": "diff --git a/src/libjasper/heic/heic_dec.c b/src/libjasper/heic/heic_dec.c\nindex cde3843..3841ced 100644\n--- a/src/libjasper/heic/heic_dec.c\n+++ b/src/libjasper/heic/heic_dec.c\n@@ -195,6 +195,11 @@ jas_image_t *jas_heic_decode(jas_stream_t *in, const char *optstr)\n \t/* Get a handle to the primary image. */\n \theif_context_get_primary_image_handle(ctx, &handle);\n \n+    if (!handle) {\n+        jas_logerrorf(\"heif_context_get_primary_image_handle failed: handle is NULL\\n\");\n+        goto error;\n+    }\n+\n \tint width = heif_image_handle_get_width(handle);\n \tint height = heif_image_handle_get_height(handle);\n \tJAS_LOGDEBUGF(1, \"width %d; height %d\\n\", width, height);\n", "result": true}