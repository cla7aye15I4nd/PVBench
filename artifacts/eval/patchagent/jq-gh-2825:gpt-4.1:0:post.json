{"patch": "diff --git a/src/decNumber/decNumber.c b/src/decNumber/decNumber.c\nindex 5062634..0858bc3 100644\n--- a/src/decNumber/decNumber.c\n+++ b/src/decNumber/decNumber.c\n@@ -6239,6 +6239,10 @@ static Int decUnitCompare(const Unit *a, Int alength,\n   const Unit *l, *r, *u;           // work\r\n   Int   expunits, exprem, result;  // ..\r\n \r\n+  // Defensive: Ensure exp is non-negative; else contract violation.\n+  if (exp < 0) {\n+    return BADINT;\n+  }\n   if (exp==0) {                    // aligned; fastpath\r\n     if (alength>blength) return 1;\r\n     if (alength<blength) return -1;\r\n", "result": true}