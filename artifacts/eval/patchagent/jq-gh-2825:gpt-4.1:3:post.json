{"patch": "--- a/src/decNumber/decNumber.c\n+++ b/src/decNumber/decNumber.c\n@@ -6233,11 +6233,15 @@\n static Int decUnitCompare(const Unit *a, Int alength,\n                           const Unit *b, Int blength, Int exp) {\n   Unit  *acc;                      // accumulator for result\n   Unit  accbuff[SD2U(DECBUFFER*2+1)]; // local buffer\n   Unit  *allocacc=NULL;            // -> allocated acc buffer, iff allocated\n   Int   accunits, need;            // units in use or needed for acc\n   const Unit *l, *r, *u;           // work\n   Int   expunits, exprem, result;  // ..\n+\n+  // Ensure exponent is non-negative as required by function contract\n+  if (exp < 0)\n+    return BADINT;\n \n   if (exp==0) {                    // aligned; fastpath\n     if (alength>blength) return 1;\n", "result": true}