{"patch": "diff --git a/llvm/lib/Transforms/IPO/FunctionAttrs.cpp b/llvm/lib/Transforms/IPO/FunctionAttrs.cpp\nindex bbfed2ac2c09..2bbc13e70559 100644\n--- a/llvm/lib/Transforms/IPO/FunctionAttrs.cpp\n+++ b/llvm/lib/Transforms/IPO/FunctionAttrs.cpp\n@@ -661,6 +661,10 @@ ArgumentAccessInfo getArgumentAccessInfo(const Instruction *I,\n     auto TypeSize = DL.getTypeStoreSize(Ty);\n     if (!TypeSize.isScalable() && Offset) {\n       int64_t Size = TypeSize.getFixedValue();\n+      // Check for valid size and no overflow\n+      if (Size <= 0 || *Offset > INT64_MAX - Size) {\n+        return std::nullopt;\n+      }\n       return ConstantRange(APInt(64, *Offset, true),\n                            APInt(64, *Offset + Size, true));\n     }\n@@ -672,6 +676,10 @@ ArgumentAccessInfo getArgumentAccessInfo(const Instruction *I,\n     auto *ConstantLength = dyn_cast<ConstantInt>(Length);\n     if (ConstantLength && Offset &&\n         ConstantLength->getValue().isStrictlyPositive()) {\n+      int64_t Length = ConstantLength->getSExtValue();\n+      if (*Offset > INT64_MAX - Length) {\n+        return std::nullopt;\n+      }\n       return ConstantRange(\n           APInt(64, *Offset, true),\n           APInt(64, *Offset + ConstantLength->getSExtValue(), true));\n", "result": true}