{"patch": "diff --git a/clang/lib/Format/UnwrappedLineParser.cpp b/clang/lib/Format/UnwrappedLineParser.cpp\nindex df58e5ef4d6a..e53bb3a7250c 100644\n--- a/clang/lib/Format/UnwrappedLineParser.cpp\n+++ b/clang/lib/Format/UnwrappedLineParser.cpp\n@@ -1185,7 +1185,10 @@ void UnwrappedLineParser::parsePPDefine() {\n   addUnwrappedLine();\n   ++Line->Level;\n \n-  Line->PPLevel = PPBranchLevel + (IncludeGuard == IG_Defined ? 0 : 1);\n+  int NewPPLevel = PPBranchLevel + (IncludeGuard == IG_Defined ? 0 : 1);\n+  if (NewPPLevel < 0)\n+    NewPPLevel = 0;\n+  Line->PPLevel = static_cast<unsigned>(NewPPLevel);\n   assert((int)Line->PPLevel >= 0);\n   Line->InMacroBody = true;\n \n", "result": true}