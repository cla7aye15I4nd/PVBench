{"patch": "diff --git a/clang/lib/CodeGen/CGExprAgg.cpp b/clang/lib/CodeGen/CGExprAgg.cpp\nindex 87b2a73fb0c0..13399b4e4902 100644\n--- a/clang/lib/CodeGen/CGExprAgg.cpp\n+++ b/clang/lib/CodeGen/CGExprAgg.cpp\n@@ -1674,7 +1674,8 @@ static bool isSimpleZero(const Expr *E, CodeGenFunction &CGF) {\n   // (int*)0 - Null pointer expressions.\n   if (const CastExpr *ICE = dyn_cast<CastExpr>(E))\n     return ICE->getCastKind() == CK_NullToPointer &&\n-           CGF.getTypes().isPointerZeroInitializable(E->getType()) &&\n+           (ICE->getType()->isAnyPointerType() || ICE->getType()->isBlockPointerType()) &&\n+           CGF.getTypes().isPointerZeroInitializable(ICE->getType()) &&\n            !E->HasSideEffects(CGF.getContext());\n   // '\\0'\n   if (const CharacterLiteral *CL = dyn_cast<CharacterLiteral>(E))\n", "result": true}