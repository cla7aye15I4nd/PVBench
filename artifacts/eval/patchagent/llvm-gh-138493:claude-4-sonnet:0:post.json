{"patch": "diff --git a/clang/lib/Sema/SemaOpenMP.cpp b/clang/lib/Sema/SemaOpenMP.cpp\nindex 15d568fcb9cc..bf0336826877 100644\n--- a/clang/lib/Sema/SemaOpenMP.cpp\n+++ b/clang/lib/Sema/SemaOpenMP.cpp\n@@ -2998,8 +2998,10 @@ static bool FinishOpenMPLinearClause(OMPLinearClause &Clause, DeclRefExpr *IV,\n static bool finishLinearClauses(Sema &SemaRef, ArrayRef<OMPClause *> Clauses,\n                                 OMPLoopBasedDirective::HelperExprs &B,\n                                 DSAStackTy *Stack) {\n-  assert((SemaRef.CurContext->isDependentContext() || B.builtAll()) &&\n-         \"loop exprs were not built\");\n+  // In dependent contexts or when there are semantic errors that prevent\n+  // loop expressions from being built, we should not process linear clauses.\n+  if (!SemaRef.CurContext->isDependentContext() && !B.builtAll())\n+    return false;\n \n   if (SemaRef.CurContext->isDependentContext())\n     return false;\n", "result": true}