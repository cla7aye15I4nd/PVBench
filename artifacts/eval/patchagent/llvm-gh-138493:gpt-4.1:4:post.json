{"patch": "diff --git a/clang/lib/Sema/SemaOpenMP.cpp b/clang/lib/Sema/SemaOpenMP.cpp\nindex 15d568fcb9cc..d332abb597bb 100644\n--- a/clang/lib/Sema/SemaOpenMP.cpp\n+++ b/clang/lib/Sema/SemaOpenMP.cpp\n@@ -10424,6 +10424,9 @@ StmtResult SemaOpenMP::ActOnOpenMPSimdDirective(\n       CS, SemaRef, *DSAStack, VarsWithImplicitDSA, B);\n   if (NestedLoopCount == 0)\n     return StmtError();\n+  // If any loop expressions were not built, error out early to prevent assertion failure.\n+  if (!SemaRef.CurContext->isDependentContext() && !B.builtAll())\n+    return StmtError();\n \n   if (finishLinearClauses(SemaRef, Clauses, B, DSAStack))\n     return StmtError();\n", "result": true}