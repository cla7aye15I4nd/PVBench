{"patch": "diff --git a/clang/lib/Sema/SemaOpenMP.cpp b/clang/lib/Sema/SemaOpenMP.cpp\nindex 50211c5cf3ed..b2f9e3b0e210 100644\n--- a/clang/lib/Sema/SemaOpenMP.cpp\n+++ b/clang/lib/Sema/SemaOpenMP.cpp\n@@ -14913,7 +14913,13 @@ StmtResult SemaOpenMP::ActOnOpenMPUnrollDirective(ArrayRef<OMPClause *> Clauses,\n   uint64_t Factor;\n   SourceLocation FactorLoc;\n   if (Expr *FactorVal = PartialClause->getFactor()) {\n-    Factor = FactorVal->getIntegerConstantExpr(Context)->getZExtValue();\n+    auto MaybeIntVal = FactorVal->getIntegerConstantExpr(Context);\n+    if (!MaybeIntVal) {\n+      // The factor expression is not a valid integer constant expression.\n+      // Error should have been reported during parsing.\n+      return StmtError();\n+    }\n+    Factor = MaybeIntVal->getZExtValue();\n     FactorLoc = FactorVal->getExprLoc();\n   } else {\n     // TODO: Use a better profitability model.\n", "result": true}