{"patch": "diff --git a/ext/dom/dom_iterators.c b/ext/dom/dom_iterators.c\nindex 866cb5a07e9..098b9ae3a97 100644\n--- a/ext/dom/dom_iterators.c\n+++ b/ext/dom/dom_iterators.c\n@@ -189,7 +189,10 @@ static void php_dom_iterator_move_forward(zend_object_iterator *iter) /* {{{ */\n \tnnmap = Z_DOMOBJ_P(object);\n \tobjmap = (dom_nnodemap_object *)nnmap->ptr;\n \n-\tintern = Z_DOMOBJ_P(&iterator->curobj);\n+\tintern = NULL;\n+\tif (Z_TYPE(iterator->curobj) == IS_OBJECT) {\n+\t\tintern = Z_DOMOBJ_P(&iterator->curobj);\n+\t}\n \n \tif (intern != NULL && intern->ptr != NULL) {\n \t\tif (objmap->nodetype != XML_ENTITY_NODE &&\n", "result": true}