{"patch": "diff --git a/ext/simplexml/simplexml.c b/ext/simplexml/simplexml.c\nindex 6bcb9edcffa..b1c9b8b5e89 100644\n--- a/ext/simplexml/simplexml.c\n+++ b/ext/simplexml/simplexml.c\n@@ -2547,7 +2547,14 @@ static void php_sxe_iterator_current_key(zend_object_iterator *iter, zval *key)\n {\n \tphp_sxe_iterator *iterator = (php_sxe_iterator *)iter;\n \tzval *curobj = &iterator->sxe->iter.data;\n-\tphp_sxe_object *intern = Z_SXEOBJ_P(curobj);\n+\tphp_sxe_object *intern;\n+\n+\tif (Z_ISUNDEF_P(curobj)) {\n+\t\tZVAL_NULL(key);\n+\t\treturn;\n+\t}\n+\n+\tintern = Z_SXEOBJ_P(curobj);\n \n \txmlNodePtr curnode = NULL;\n \tif (intern != NULL && intern->node != NULL) {\n", "result": true}