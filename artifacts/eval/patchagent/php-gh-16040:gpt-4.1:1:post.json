{"patch": "diff --git a/Zend/zend_object_handlers.c b/Zend/zend_object_handlers.c\nindex 64e494200ee..7894c225036 100644\n--- a/Zend/zend_object_handlers.c\n+++ b/Zend/zend_object_handlers.c\n@@ -807,8 +807,19 @@ ZEND_API zval *zend_std_read_property(zend_object *zobj, zend_string *name, int\n \t\t}\n \n \t\tzend_class_entry *ce = zobj->ce;\n-\n-\t\tif (!zend_call_get_hook(prop_info, name, get, zobj, rv)) {\n+        bool set_hook_simple_get = 0;\n+        if (EXPECTED(cache_slot\n+            && zend_execute_ex == execute_ex\n+            && ce->default_object_handlers->read_property == zend_std_read_property\n+            && !ce->create_object\n+            && !zend_is_in_hook(prop_info)\n+            && !(prop_info->hooks[ZEND_PROPERTY_HOOK_GET]->common.fn_flags & ZEND_ACC_RETURN_REFERENCE))) {\n+            set_hook_simple_get = 1;\n+        }\n+        GC_ADDREF(zobj);\n+        bool get_hook_result = zend_call_get_hook(prop_info, name, get, zobj, rv);\n+        OBJ_RELEASE(zobj);\n+        if (!get_hook_result) {\n \t\t\tif (EG(exception)) {\n \t\t\t\treturn &EG(uninitialized_zval);\n \t\t\t}\n@@ -824,16 +835,11 @@ ZEND_API zval *zend_std_read_property(zend_object *zobj, zend_string *name, int\n \t\t\t\tprop_info = NULL;\n \t\t\t}\n \t\t\tgoto try_again;\n-\t\t}\n+        }\n \n-\t\tif (EXPECTED(cache_slot\n-\t\t && zend_execute_ex == execute_ex\n-\t\t && zobj->ce->default_object_handlers->read_property == zend_std_read_property\n-\t\t && !zobj->ce->create_object\n-\t\t && !zend_is_in_hook(prop_info)\n-\t\t && !(prop_info->hooks[ZEND_PROPERTY_HOOK_GET]->common.fn_flags & ZEND_ACC_RETURN_REFERENCE))) {\n-\t\t\tZEND_SET_PROPERTY_HOOK_SIMPLE_GET(cache_slot);\n-\t\t}\n+        if (set_hook_simple_get) {\n+            ZEND_SET_PROPERTY_HOOK_SIMPLE_GET(cache_slot);\n+        }\n \n \t\tif (Z_TYPE_P(rv) != IS_UNDEF) {\n \t\t\tretval = rv;\n", "result": true}