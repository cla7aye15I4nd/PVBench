{"patch": "diff --git a/Zend/zend_object_handlers.c b/Zend/zend_object_handlers.c\nindex 64e494200ee..063577c2a5b 100644\n--- a/Zend/zend_object_handlers.c\n+++ b/Zend/zend_object_handlers.c\n@@ -806,9 +806,11 @@ ZEND_API zval *zend_std_read_property(zend_object *zobj, zend_string *name, int\n \t\t\tgoto exit;\n \t\t}\n \n-\t\tzend_class_entry *ce = zobj->ce;\n+        zend_class_entry *ce = zobj->ce;\n+        const zend_object_handlers *default_handlers = ce->default_object_handlers;\n+        int has_create_object = ce->create_object != NULL;\n \n-\t\tif (!zend_call_get_hook(prop_info, name, get, zobj, rv)) {\n+        if (!zend_call_get_hook(prop_info, name, get, zobj, rv)) {\n \t\t\tif (EG(exception)) {\n \t\t\t\treturn &EG(uninitialized_zval);\n \t\t\t}\n@@ -826,14 +828,14 @@ ZEND_API zval *zend_std_read_property(zend_object *zobj, zend_string *name, int\n \t\t\tgoto try_again;\n \t\t}\n \n-\t\tif (EXPECTED(cache_slot\n-\t\t && zend_execute_ex == execute_ex\n-\t\t && zobj->ce->default_object_handlers->read_property == zend_std_read_property\n-\t\t && !zobj->ce->create_object\n-\t\t && !zend_is_in_hook(prop_info)\n-\t\t && !(prop_info->hooks[ZEND_PROPERTY_HOOK_GET]->common.fn_flags & ZEND_ACC_RETURN_REFERENCE))) {\n-\t\t\tZEND_SET_PROPERTY_HOOK_SIMPLE_GET(cache_slot);\n-\t\t}\n+        if (EXPECTED(cache_slot\n+         && zend_execute_ex == execute_ex\n+         && default_handlers->read_property == zend_std_read_property\n+         && !has_create_object\n+         && !zend_is_in_hook(prop_info)\n+         && !(prop_info->hooks[ZEND_PROPERTY_HOOK_GET]->common.fn_flags & ZEND_ACC_RETURN_REFERENCE))) {\n+             ZEND_SET_PROPERTY_HOOK_SIMPLE_GET(cache_slot);\n+        }\n \n \t\tif (Z_TYPE_P(rv) != IS_UNDEF) {\n \t\t\tretval = rv;\n", "result": true}