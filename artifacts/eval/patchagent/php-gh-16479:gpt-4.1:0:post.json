{"patch": "diff --git a/ext/spl/spl_observer.c b/ext/spl/spl_observer.c\nindex 21b19cffa38..a4184013f7a 100644\n--- a/ext/spl/spl_observer.c\n+++ b/ext/spl/spl_observer.c\n@@ -746,8 +746,11 @@ PHP_METHOD(SplObjectStorage, setInfo)\n \tif ((element = zend_hash_get_current_data_ptr_ex(&intern->storage, &intern->pos)) == NULL) {\n \t\tRETURN_NULL();\n \t}\n-\tzval_ptr_dtor(&element->inf);\n+\tzval tmp;\n+\n+\tZVAL_COPY_VALUE(&tmp, &element->inf);\n \tZVAL_COPY(&element->inf, inf);\n+\tzval_ptr_dtor(&tmp);\n } /* }}} */\n \n /* {{{ Moves position forward */\n", "result": true}