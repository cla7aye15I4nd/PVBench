{"patch": "diff --git a/Modules/_asynciomodule.c b/Modules/_asynciomodule.c\nindex 18dc2859357..8af7cd61229 100644\n--- a/Modules/_asynciomodule.c\n+++ b/Modules/_asynciomodule.c\n@@ -355,12 +355,15 @@ future_schedule_callbacks(asyncio_state *state, FutureObj *fut)\n     if (fut->fut_callback0 != NULL) {\n         /* There's a 1st callback */\n \n-        int ret = call_soon(state,\n-            fut->fut_loop, fut->fut_callback0,\n-            (PyObject *)fut, fut->fut_context0);\n-\n-        Py_CLEAR(fut->fut_callback0);\n-        Py_CLEAR(fut->fut_context0);\n+        PyObject *cb = fut->fut_callback0;\n+        PyObject *ctx = fut->fut_context0;\n+        PyObject *loop = fut->fut_loop;\n+        /* Clear before call_soon in case callback causes fut to be deallocated */\n+        fut->fut_callback0 = NULL;\n+        fut->fut_context0 = NULL;\n+        int ret = call_soon(state, loop, cb, (PyObject *)fut, ctx);\n+        Py_XDECREF(cb);\n+        Py_XDECREF(ctx);\n         if (ret) {\n             /* If an error occurs in pure-Python implementation,\n                all callbacks are cleared. */\n", "result": true}