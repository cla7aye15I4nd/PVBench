{"patch": "diff --git a/src/edit.c b/src/edit.c\nindex cdde11e40..2a24b2dbf 100644\n--- a/src/edit.c\n+++ b/src/edit.c\n@@ -4954,7 +4954,14 @@ ins_compl_next(\n \t    i = 0;\n \telse\n \t    STRCAT(IObuff, \"<\");\n-\tSTRCAT(IObuff, compl_shown_match->cp_fname + i);\n+    {\n+        size_t len = STRLEN(IObuff);\n+        size_t space = IOSIZE - 1 - len;\n+        char_u *src = compl_shown_match->cp_fname + i;\n+        /* Only append as much as fits in IObuff */\n+        STRNCAT(IObuff, src, space);\n+        IObuff[IOSIZE-1] = '\\0';\n+    }\n \tmsg(IObuff);\n \tredraw_cmdline = FALSE;\t    /* don't overwrite! */\n     }\n", "result": true}