{"patch": "diff --git a/xpath.c b/xpath.c\nindex a60a6237..43ea2846 100644\n--- a/xpath.c\n+++ b/xpath.c\n@@ -3106,7 +3106,8 @@ xmlXPathFormatNumber(double number, char buffer[], int buffersize)\n \t\tsnprintf(buffer, buffersize, \"NaN\");\n \t} else if (number == 0 && xmlXPathGetSign(number) != 0) {\n \t    snprintf(buffer, buffersize, \"0\");\n-\t} else if (number == ((int) number)) {\n+\t} else if (number >= INT_MIN && number <= INT_MAX && \n+\t           number == ((int) number)) {\n \t    char work[30];\n \t    char *ptr, *cur;\n \t    int value = (int) number;\n", "result": true}