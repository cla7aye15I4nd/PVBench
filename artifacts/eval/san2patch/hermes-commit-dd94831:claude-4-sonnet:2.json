[{"patch": "diff --git a/include/hermes/VM/JSCallableProxy.h b/include/hermes/VM/JSCallableProxy.h\nindex 5aab5d3de..7c1a8584b 100644\n--- a/include/hermes/VM/JSCallableProxy.h\n+++ b/include/hermes/VM/JSCallableProxy.h\n@@ -36,8 +36,17 @@ class JSCallableProxy : public NativeFunction {\n       Runtime *runtime,\n       Handle<JSObject> target,\n       Handle<JSObject> handler);\n-\n+// FIXME: Crash CWE-674: Uncontrolled Recursion\n+ \n   bool isConstructor(Runtime *runtime) {\n+    constexpr uint32_t maxDepth = 100;\n+    return isConstructor(runtime, 0, maxDepth);\n+  }\n+\n+  bool isConstructor(Runtime *runtime, uint32_t depth, uint32_t maxDepth) {\n+    if (depth >= maxDepth) {\n+      return false;\n+    }\n     return vm::isConstructor(\n         runtime, vmcast_or_null<Callable>(slots_.target.get(runtime)));\n   }\ndiff --git a/lib/VM/Operations.cpp b/lib/VM/Operations.cpp\nindex 60820798a..7ff817f52 100644\n--- a/lib/VM/Operations.cpp\n+++ b/lib/VM/Operations.cpp\n@@ -1352,6 +1352,14 @@ bool isConstructor(Runtime *runtime, HermesValue value) {\n }\n \n bool isConstructor(Runtime *runtime, Callable *callable) {\n+  static thread_local int recursionDepth = 0;\n+  const int MAX_RECURSION_DEPTH = 100;\n+  \n+  // Check recursion depth to prevent stack overflow\n+  if (recursionDepth >= MAX_RECURSION_DEPTH) {\n+    return false;\n+  }\n+  \n   // This is not a complete definition, since ES6 and later define member\n   // functions of objects to not be constructors; however, Hermes does not have\n   // ES6 classes implemented yet, so we cannot check for that case.\n@@ -1382,7 +1390,10 @@ bool isConstructor(Runtime *runtime, Callable *callable) {\n   // JSCallableProxy is a NativeFunction, but may or may not be a\n   // constructor, so we ask it.\n   if (auto *cproxy = dyn_vmcast<JSCallableProxy>(callable)) {\n-    return cproxy->isConstructor(runtime);\n+    recursionDepth++;\n+    bool result = cproxy->isConstructor(runtime);\n+    recursionDepth--;\n+    return result;\n   }\n \n   return false;\n"}]