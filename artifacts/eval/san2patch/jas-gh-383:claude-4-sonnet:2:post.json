{"patch": "diff --git a/src/libjasper/heic/heic_dec.c b/src/libjasper/heic/heic_dec.c\nindex cde3843..2d1bec5 100644\n--- a/src/libjasper/heic/heic_dec.c\n+++ b/src/libjasper/heic/heic_dec.c\n@@ -217,8 +217,13 @@ jas_image_t *jas_heic_decode(jas_stream_t *in, const char *optstr)\n \t*/\n \n \t/* Decode the image and convert the colorspace to RGB,\n-\t  saved as 24bit interleaved. */\n+// FIXME: Crash CWE-476: NULL Pointer Dereference\n+ \t  saved as 24bit interleaved. */\n \tstruct heif_error err;\n+\tif (handle == NULL) {\n+\t\tjas_logerrorf(\"handle is NULL\\n\");\n+\t\tgoto error;\n+\t}\n \terr = heif_decode_image(handle, &img, heif_colorspace_RGB,\n \t  heif_chroma_interleaved_RGB, 0);\n \tif (err.code != 0) {\n@@ -230,7 +235,6 @@ jas_image_t *jas_heic_decode(jas_stream_t *in, const char *optstr)\n \tenum heif_chroma chroma = heif_image_get_chroma_format(img);\n \tassert(chroma == heif_chroma_interleaved_RGB);\n \tJAS_LOGDEBUGF(1, \"colorspace %d; chroma %d\\n\", colorspace, chroma);\n-\n \tint stride;\n \tconst uint8_t* data = heif_image_get_plane_readonly(img,\n \t  heif_channel_interleaved, &stride);\n", "result": true}