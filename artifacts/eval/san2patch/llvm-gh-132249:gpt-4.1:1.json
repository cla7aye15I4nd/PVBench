[{"patch": "diff --git a/clang/lib/Sema/SemaDeclCXX.cpp b/clang/lib/Sema/SemaDeclCXX.cpp\nindex 2142582adf6e..c4d92305015f 100644\n--- a/clang/lib/Sema/SemaDeclCXX.cpp\n+++ b/clang/lib/Sema/SemaDeclCXX.cpp\n@@ -9003,10 +9003,12 @@ bool Sema::CheckExplicitlyDefaultedComparison(Scope *S, FunctionDecl *FD,\n     if (RequireCompleteType(FD->getLocation(), Context.getRecordType(RD),\n                             diag::err_defaulted_comparison_not_friend, int(DCK),\n                             int(1)))\n-      return true;\n+// FIXME: Crash CWE-825: Expired Pointer Dereference\n+       return true;\n \n     if (llvm::none_of(RD->friends(), [&](const FriendDecl *F) {\n-          return FD->getCanonicalDecl() ==\n+          return F && F->getFriendDecl() &&\n+                 FD->getCanonicalDecl() ==\n                  F->getFriendDecl()->getCanonicalDecl();\n         })) {\n       Diag(FD->getLocation(), diag::err_defaulted_comparison_not_friend)\n"}]