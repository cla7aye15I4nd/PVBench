[{"patch": "diff --git a/mlir/lib/Dialect/Arith/IR/ArithOps.cpp b/mlir/lib/Dialect/Arith/IR/ArithOps.cpp\nindex e9545c3146b2..5839fbd58189 100644\n--- a/mlir/lib/Dialect/Arith/IR/ArithOps.cpp\n+++ b/mlir/lib/Dialect/Arith/IR/ArithOps.cpp\n@@ -46,6 +46,20 @@ applyToIntegerAttrs(PatternRewriter &builder, Value res, Attribute lhs,\n   APInt lhsVal = llvm::cast<IntegerAttr>(lhs).getValue();\n   APInt rhsVal = llvm::cast<IntegerAttr>(rhs).getValue();\n   APInt value = binFn(lhsVal, rhsVal);\n+  \n+  // Validate and adjust bit width before creating IntegerAttr\n+  if (auto resultType = llvm::dyn_cast<IntegerType>(res.getType())) {\n+    unsigned expectedWidth = resultType.getWidth();\n+    unsigned actualWidth = value.getBitWidth();\n+    \n+    // Perform safe bit width conversion\n+    if (actualWidth != expectedWidth) {\n+      value = actualWidth > expectedWidth ? \n+              value.trunc(expectedWidth) : \n+              value.sext(expectedWidth);\n+    }\n+  }\n+  \n   return IntegerAttr::get(res.getType(), value);\n }\n \n"}]