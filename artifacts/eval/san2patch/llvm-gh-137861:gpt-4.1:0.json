[{"patch": "diff --git a/clang/lib/Parse/ParseStmt.cpp b/clang/lib/Parse/ParseStmt.cpp\nindex bdd02469a85b..047e303e12a4 100644\n--- a/clang/lib/Parse/ParseStmt.cpp\n+++ b/clang/lib/Parse/ParseStmt.cpp\n@@ -128,8 +128,20 @@ Parser::ParseStatementOrDeclaration(StmtVector &Stmts,\n \n   takeAndConcatenateAttrs(CXX11Attrs, std::move(GNUOrMSAttrs));\n \n-  assert((CXX11Attrs.empty() || Res.isInvalid() || Res.isUsable()) &&\n-         \"attributes on empty statement\");\n+  // Defensive: Replace assertion by runtime error handling\n+#ifdef diag_err_unexpected_attributes_on_stmt // Only if the diagnostic is defined\n+  if (!(CXX11Attrs.empty() || Res.isInvalid() || Res.isUsable())) {\n+    Diag(CXX11Attrs.Range.getBegin(), diag::err_unexpected_attributes_on_stmt);\n+    CXX11Attrs.clear();\n+    return Res.isUsable() ? Res : StmtError();\n+  }\n+#else\n+  // If the diagnostic is not defined, fallback to clearing attributes and returning error\n+  if (!(CXX11Attrs.empty() || Res.isInvalid() || Res.isUsable())) {\n+    CXX11Attrs.clear();\n+    return Res.isUsable() ? Res : StmtError();\n+  }\n+#endif\n \n   if (CXX11Attrs.empty() || Res.isInvalid())\n     return Res;\n@@ -137,6 +149,7 @@ Parser::ParseStatementOrDeclaration(StmtVector &Stmts,\n   return Actions.ActOnAttributedStmt(CXX11Attrs, Res.get());\n }\n \n+\n namespace {\n class StatementFilterCCC final : public CorrectionCandidateCallback {\n public:\n"}]