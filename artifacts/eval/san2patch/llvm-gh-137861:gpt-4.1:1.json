[{"patch": "diff --git a/clang/lib/Parse/ParseStmt.cpp b/clang/lib/Parse/ParseStmt.cpp\nindex bdd02469a85b..b07329e67776 100644\n--- a/clang/lib/Parse/ParseStmt.cpp\n+++ b/clang/lib/Parse/ParseStmt.cpp\n@@ -128,8 +128,20 @@ Parser::ParseStatementOrDeclaration(StmtVector &Stmts,\n \n   takeAndConcatenateAttrs(CXX11Attrs, std::move(GNUOrMSAttrs));\n \n-  assert((CXX11Attrs.empty() || Res.isInvalid() || Res.isUsable()) &&\n-         \"attributes on empty statement\");\n+  // If CXX11Attrs is not empty, and the result is neither invalid nor usable, emit a diagnostic and return error.\n+  if (!CXX11Attrs.empty() && !Res.isInvalid() && !Res.isUsable()) {\n+#ifdef diag_err_unexpected_attribute_with_invalid_stmt\n+    Diag(CXX11Attrs.Range.getBegin(), diag_err_unexpected_attribute_with_invalid_stmt);\n+#else\n+    // Fallback: do nothing if diagnostic is unavailable\n+    return StmtError();\n+#endif\n+    return StmtError();\n+  }\n+\n+  // The following assertion is commented out to avoid crash on release builds.\n+  // assert((CXX11Attrs.empty() || Res.isInvalid() || Res.isUsable()) &&\n+  //        \"attributes on empty statement\");\n \n   if (CXX11Attrs.empty() || Res.isInvalid())\n     return Res;\n@@ -137,6 +149,7 @@ Parser::ParseStatementOrDeclaration(StmtVector &Stmts,\n   return Actions.ActOnAttributedStmt(CXX11Attrs, Res.get());\n }\n \n+\n namespace {\n class StatementFilterCCC final : public CorrectionCandidateCallback {\n public:\n"}]