[{"patch": "diff --git a/clang/lib/AST/ASTContext.cpp b/clang/lib/AST/ASTContext.cpp\nindex 92b246a83bce..7c9a88687f59 100644\n--- a/clang/lib/AST/ASTContext.cpp\n+++ b/clang/lib/AST/ASTContext.cpp\n@@ -2084,14 +2084,19 @@ TypeInfo ASTContext::getTypeInfoImpl(const Type *T) const {\n     // The internal layout of a matrix value is implementation defined.\n     // Initially be ABI compatible with arrays with respect to alignment and\n     // size.\n-    Width = ElementInfo.Width * MT->getNumRows() * MT->getNumColumns();\n-    Align = ElementInfo.Align;\n-    break;\n+        Width = ElementInfo.Width * MT->getNumRows() * MT->getNumColumns();\n+Align = ElementInfo.Align;\n+break;\n   }\n \n   case Type::Builtin:\n     switch (cast<BuiltinType>(T)->getKind()) {\n-    default: llvm_unreachable(\"Unknown builtin type!\");\n+    default:\n+      // Defensive: report error and safely abort this execution path\n+      llvm::report_fatal_error(\"Unknown builtin type encountered in ASTContext::getTypeInfoImpl\");\n+      Width = 0;\n+      Align = 0;\n+      break;\n     case BuiltinType::Void:\n       // GCC extension: alignof(void) = 8 bits.\n       Width = 0;\n@@ -2104,8 +2109,7 @@ TypeInfo ASTContext::getTypeInfoImpl(const Type *T) const {\n     case BuiltinType::Char_S:\n     case BuiltinType::Char_U:\n     case BuiltinType::UChar:\n-    case BuiltinType::SChar:\n-    case BuiltinType::Char8:\n+    case BuiltinType::SChar:    case BuiltinType::Char8:\n       Width = Target->getCharWidth();\n       Align = Target->getCharAlign();\n       break;\n"}]