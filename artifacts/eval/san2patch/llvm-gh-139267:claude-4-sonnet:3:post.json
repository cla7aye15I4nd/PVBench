{"patch": "diff --git a/clang/lib/Sema/SemaOpenMP.cpp b/clang/lib/Sema/SemaOpenMP.cpp\nindex 50211c5cf3ed..9461c477319c 100644\n--- a/clang/lib/Sema/SemaOpenMP.cpp\n+++ b/clang/lib/Sema/SemaOpenMP.cpp\n@@ -14911,10 +14911,17 @@ StmtResult SemaOpenMP::ActOnOpenMPUnrollDirective(ArrayRef<OMPClause *> Clauses,\n \n   // Determine the unroll factor.\n   uint64_t Factor;\n-  SourceLocation FactorLoc;\n-  if (Expr *FactorVal = PartialClause->getFactor()) {\n-    Factor = FactorVal->getIntegerConstantExpr(Context)->getZExtValue();\n-    FactorLoc = FactorVal->getExprLoc();\n+// FIXME: Crash CWE-908: Use of Uninitialized Resource\n+   SourceLocation FactorLoc;\n+  if (PartialClause && PartialClause->getFactor()) {\n+    Expr *FactorVal = PartialClause->getFactor();\n+    if (auto FactorConstant = FactorVal->getIntegerConstantExpr(Context)) {\n+      Factor = FactorConstant->getZExtValue();\n+      FactorLoc = FactorVal->getExprLoc();\n+    } else {\n+      // TODO: Use a better profitability model.\n+      Factor = 2;\n+    }\n   } else {\n     // TODO: Use a better profitability model.\n     Factor = 2;\n@@ -14923,8 +14930,7 @@ StmtResult SemaOpenMP::ActOnOpenMPUnrollDirective(ArrayRef<OMPClause *> Clauses,\n   auto MakeFactorExpr = [this, Factor, IVTy, FactorLoc]() {\n     return IntegerLiteral::Create(\n         getASTContext(), llvm::APInt(getASTContext().getIntWidth(IVTy), Factor),\n-        IVTy, FactorLoc);\n-  };\n+        IVTy, FactorLoc);  };\n \n   // Iteration variable SourceLocations.\n   SourceLocation OrigVarLoc = OrigVar->getExprLoc();\n", "result": true}