[{"patch": "diff --git a/Modules/_lsprof.c b/Modules/_lsprof.c\nindex 257de4387c0..47b0a4f8196 100644\n--- a/Modules/_lsprof.c\n+++ b/Modules/_lsprof.c\n@@ -756,10 +756,11 @@ flush_unmatched(ProfilerObject *pObj)\n         ProfilerEntry *profEntry= pContext->ctxEntry;\n         if (profEntry)\n             Stop(pObj, pContext, profEntry);\n-        else\n-            pObj->currentProfilerContext = pContext->previous;\n-        if (pContext)\n-            PyMem_Free(pContext);\n+        \n+        ProfilerContext *to_free = pObj->currentProfilerContext;\n+        pObj->currentProfilerContext = pContext->previous;\n+        if (to_free)\n+            PyMem_Free(to_free);\n     }\n \n }\n"}]