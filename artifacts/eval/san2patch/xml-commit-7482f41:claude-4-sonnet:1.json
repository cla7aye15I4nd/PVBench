[{"patch": "diff --git a/xpath.c b/xpath.c\nindex a60a6237..efd5a98a 100644\n--- a/xpath.c\n+++ b/xpath.c\n@@ -5713,7 +5713,13 @@ xmlXPathCastNumberToString (double val) {\n \t} else {\n \t    /* could be improved */\n \t    char buf[100];\n-\t    xmlXPathFormatNumber(val, buf, 99);\n+\t    /* Check for values that would cause overflow in xmlXPathFormatNumber */\n+\t    if (val > 2147483647.0 || val < -2147483648.0) {\n+\t        /* Use standard C library formatting for large values */\n+\t        snprintf(buf, 99, \"%.0f\", val);\n+\t    } else {\n+\t        xmlXPathFormatNumber(val, buf, 99);\n+\t    }\n \t    buf[99] = 0;\n \t    ret = xmlStrdup((const xmlChar *) buf);\n \t}\n"}]