[{"patch": "diff --git a/xpath.c b/xpath.c\nindex a60a6237..7bbe9843 100644\n--- a/xpath.c\n+++ b/xpath.c\n@@ -3105,15 +3105,15 @@ xmlXPathFormatNumber(double number, char buffer[], int buffersize)\n \t    if (buffersize > (int)sizeof(\"NaN\"))\n \t\tsnprintf(buffer, buffersize, \"NaN\");\n \t} else if (number == 0 && xmlXPathGetSign(number) != 0) {\n-\t    snprintf(buffer, buffersize, \"0\");\n-\t} else if (number == ((int) number)) {\n+// FIXME: Crash CWE-681: Incorrect Conversion between Numeric Types\n+ \t    snprintf(buffer, buffersize, \"0\");\n+\t} else if (number >= -2147483648.0 && number <= 2147483647.0 && number == ((int) number)) {\n \t    char work[30];\n \t    char *ptr, *cur;\n \t    int value = (int) number;\n \n             ptr = &buffer[0];\n-\t    if (value == 0) {\n-\t\t*ptr++ = '0';\n+\t    if (value == 0) {\t\t*ptr++ = '0';\n \t    } else {\n \t\tsnprintf(work, 29, \"%d\", value);\n \t\tcur = &work[0];\n"}]