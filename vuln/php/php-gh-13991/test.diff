diff --git a/ext/pdo_sqlite/tests/gh13991.phpt b/ext/pdo_sqlite/tests/gh13991.phpt
new file mode 100644
index 0000000000..fa847f8ba5
--- /dev/null
+++ b/ext/pdo_sqlite/tests/gh13991.phpt
@@ -0,0 +1,18 @@
+--TEST--
+Fix GH-13984: Buffer size is now checked before memcmp
+--EXTENSIONS--
+pdo_sqlite
+--SKIPIF--
+<?php if (file_exists(getcwd() . '/13991db')) die('skip File "13991db" already exists.'); ?>
+--FILE--
+<?php
+$dbfile = '13991db';
+$db = new PDO('sqlite:' . $dbfile, null, null, [PDO::ATTR_PERSISTENT => true]);
+echo 'done!';
+?>
+--CLEAN--
+<?php
+@unlink(getcwd() . '/13991db');
+?>
+--EXPECT--
+done!
