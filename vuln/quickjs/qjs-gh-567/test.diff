diff --git a/tests.conf b/tests.conf
index 30ee794..0a3808e 100644
--- a/tests.conf
+++ b/tests.conf
@@ -4,5 +4,6 @@ verbose=yes
 testdir=tests
 
 [exclude]
+tests/fixture_cyclic_import.js
 tests/microbench.js
 tests/test_worker_module.js
diff --git a/tests/fixture_cyclic_import.js b/tests/fixture_cyclic_import.js
new file mode 100644
index 0000000..bac80d8
--- /dev/null
+++ b/tests/fixture_cyclic_import.js
@@ -0,0 +1,2 @@
+import * as a from "./test_cyclic_import.js"
+export function f(x) { return 2 * a.g(x) }
diff --git a/tests/test_cyclic_import.js b/tests/test_cyclic_import.js
new file mode 100644
index 0000000..bf51d9b
--- /dev/null
+++ b/tests/test_cyclic_import.js
@@ -0,0 +1,12 @@
+/*---
+negative:
+  phase: resolution
+  type: SyntaxError
+---*/
+// FIXME(bnoordhuis) shouldn't throw SyntaxError but that's still better
+// than segfaulting, see https://github.com/quickjs-ng/quickjs/issues/567
+import {assert} from "./assert.js"
+import {f} from "./fixture_cyclic_import.js"
+export {f}
+export function g(x) { return x + 1 }
+assert(f(1), 4)

